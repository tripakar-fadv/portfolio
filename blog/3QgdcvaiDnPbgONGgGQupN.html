<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" as="image" href="https://images.ctfassets.net/ud4ywsjg17po/7w3yMYYkgPRlqXiumkqwiI/a1377849f259c3d95d33b0eee428c2c5/image.png"/><link rel="stylesheet" href="/_next/static/css/5ee9d025bde9e25b.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-fe88e8a7e773f4a1.js"/><script src="/_next/static/chunks/fd9d1056-d483c381a24b485e.js" async=""></script><script src="/_next/static/chunks/117-f45aff3a65568195.js" async=""></script><script src="/_next/static/chunks/main-app-d48c9a94516ab19e.js" async=""></script><script src="/_next/static/chunks/969-f3f8651faff4ca7e.js" async=""></script><script src="/_next/static/chunks/257-663f6bcd5f23763b.js" async=""></script><script src="/_next/static/chunks/859-cfe6bb7e7a062921.js" async=""></script><script src="/_next/static/chunks/app/layout-5da738e06da89403.js" async=""></script><script src="/_next/static/chunks/373-7f60cae59a2f8664.js" async=""></script><script src="/_next/static/chunks/100-033ed5492bec06ee.js" async=""></script><script src="/_next/static/chunks/626-253854c0bd6a9b19.js" async=""></script><script src="/_next/static/chunks/app/blog/%5Bid%5D/page-942bf78483feb3a1.js" async=""></script><title>Karunika.work | Fullstack Developer</title><meta name="description" content="I am an experienced Full Stack Engineer, with a strong history of building, delivering, and maintaining robust industrial applications. I thrive in collaborative environments, where I excel at empowering team members to perform at their best. With a keen eye for detail, I’m dedicated to ensuring every product I work on is meticulously crafted and of the highest quality. My passion for precision and teamwork drives me to create solutions that not only meet, but exceed expectations."/><title>This is what happens when you use react-router with Github Pages</title><meta name="keywords" content="gh-pages,react-router,hash routing,giscus,debugging"/><meta property="og:title" content="This is what happens when you use react-router with Github Pages"/><meta property="og:description" content="gh-pages, react-router, hash routing, giscus, debugging"/><meta property="og:locale" content="en_US"/><meta property="og:image" content="https://images.ctfassets.net/ud4ywsjg17po/7w3yMYYkgPRlqXiumkqwiI/a1377849f259c3d95d33b0eee428c2c5/image.png"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="This is what happens when you use react-router with Github Pages"/><meta name="twitter:description" content="gh-pages, react-router, hash routing, giscus, debugging"/><meta name="twitter:image" content="https://images.ctfassets.net/ud4ywsjg17po/7w3yMYYkgPRlqXiumkqwiI/a1377849f259c3d95d33b0eee428c2c5/image.png"/><link rel="icon" href="/favicon.ico" type="image/x-icon" sizes="512x512"/><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body><style data-emotion="css 1vxt9lu">.css-1vxt9lu{width:100vw;-webkit-align-self:center;-ms-flex-item-align:center;align-self:center;justify-self:center;}</style><div class="MuiBox-root css-1vxt9lu"><div class="react-parallax " style="position:relative;overflow:hidden"><img class="react-parallax-bgimage" src="https://images.ctfassets.net/ud4ywsjg17po/7w3yMYYkgPRlqXiumkqwiI/a1377849f259c3d95d33b0eee428c2c5/image.png" alt="" style="position:absolute;left:50%;-webkit-transform:translate3d(-50%, 0, 0);transform:translate3d(-50%, 0, 0);-webkit-transform-style:preserve-3d;-webkit-backface-visibility:hidden;-moz-backface-visibility:hidden;-ms-backface-visibility:hidden" loading="eager"/><div class="react-parallax-content" style="position:relative"><style data-emotion="css 1knae11">.css-1knae11{min-width:100vw;min-height:50vh;background-color:rgba(var(--joy-palette-primary-mainChannel, 11 107 203) / 0.8);}</style><div class="MuiBox-root css-1knae11"><style data-emotion="css 1dh9wdc">.css-1dh9wdc{min-height:inherit;margin:auto;max-width:800px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;padding-left:12px;padding-right:12px;}</style><div class="MuiBox-root css-1dh9wdc"><style data-emotion="css 5fzzap">.css-5fzzap{--Icon-fontSize:1.25em;--Icon-color:currentColor;--CircularProgress-size:1.25em;--CircularProgress-thickness:3px;font-family:var(--joy-fontFamily-body, "Inter", var(--joy-fontFamily-fallback, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"));font-size:var(--joy-fontSize-md, 1rem);line-height:var(--joy-lineHeight-md, 1.5);color:var(--variant-plainColor, rgba(var(--joy-palette-primary-mainChannel, 11 107 203) / 1));-webkit-text-decoration:none;text-decoration:none;text-decoration-thickness:max(0.08em, 1px);text-underline-offset:0.15em;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-tap-highlight-color:transparent;background-color:transparent;outline:0;border:0;margin:0;border-radius:var(--joy-radius-xs, 2px);padding:0;cursor:pointer;text-decoration-color:var(--variant-outlinedBorder, rgba(var(--joy-palette-primary-mainChannel, 11 107 203) / var(--Link-underlineOpacity, 0.72)));-moz-appearance:none;-webkit-appearance:none;position:relative;color:var(--joy-palette-primary-100, #E3EFFB);margin-top:32px;}@media (hover: hover){.css-5fzzap:hover{text-decoration-line:underline;}}.css-5fzzap.Mui-disabled{pointer-events:none;color:var(--variant-plainDisabledColor, rgba(var(--joy-palette-primary-mainChannel, 11 107 203) / 0.6));}.css-5fzzap::-moz-focus-inner{border-style:none;}.css-5fzzap.Mui-focusVisible,.css-5fzzap:focus-visible{outline-offset:var(--focus-outline-offset, var(--joy-focus-thickness, 2px));outline:var(--joy-focus-thickness, 2px) solid var(--joy-palette-focusVisible, #0B6BCB);}</style><a class="MuiLink-root MuiLink-colorPrimary MuiLink-body-md MuiLink-underlineHover css-5fzzap"><style data-emotion="css q7mezt">.css-q7mezt{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:1em;height:1em;display:inline-block;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;-webkit-transition:fill 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:fill 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;fill:currentColor;font-size:1.5rem;}</style><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-q7mezt" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="ArrowBackIosIcon"><path d="M11.67 3.87 9.9 2.1 0 12l9.9 9.9 1.77-1.77L3.54 12z"></path></svg>Go back</a><div class="MuiBox-root css-0"><style data-emotion="css ey5nfg">.css-ey5nfg{--Icon-fontSize:calc(1em * var(--joy-lineHeight-xs, 1.33334));margin:var(--Typography-margin, 0px);display:block;font-family:var(--joy-fontFamily-display, "Inter", var(--joy-fontFamily-fallback, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"));font-weight:var(--joy-fontWeight-xl, 700);font-size:var(--Typography-fontSize, var(--joy-fontSize-xl4, 2.25rem));line-height:var(--joy-lineHeight-xs, 1.33334);letter-spacing:-0.025em;color:var(--joy-palette-text-primary, var(--joy-palette-neutral-800, #171A1C));color:var(--joy-palette-primary-100, #E3EFFB);margin-bottom:2rem!important;}.css-ey5nfg::after{background-color:var(--joy-palette-primary-100, #E3EFFB);}</style><h1 class="MuiTypography-root MuiTypography-h1 css-ey5nfg">This is what happens when you use react-router with Github Pages</h1><style data-emotion="css 8f9wuk">.css-8f9wuk{--Icon-fontSize:calc(1em * var(--joy-lineHeight-md, 1.5));margin:var(--Typography-margin, 0px);display:block;font-family:var(--joy-fontFamily-body, "Inter", var(--joy-fontFamily-fallback, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"));font-size:var(--Typography-fontSize, var(--joy-fontSize-sm, 0.875rem));line-height:var(--joy-lineHeight-md, 1.5);color:var(--joy-palette-text-tertiary, var(--joy-palette-neutral-600, #555E68));color:var(--joy-palette-primary-100, #E3EFFB);margin-top:16px;}</style><p class="MuiTypography-root MuiTypography-body-sm css-8f9wuk">October 20th, 2024 7:39 PM</p><style data-emotion="css 5i9qnw">.css-5i9qnw{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:16px;margin-bottom:32px;}.css-5i9qnw>:not(style):not(style){margin:0;}.css-5i9qnw>:not(style)~:not(style){margin-left:8px;}</style><div class="MuiStack-root css-5i9qnw"><style data-emotion="css 135fhgz">.css-135fhgz{--Chip-decoratorChildOffset:min(calc(var(--Chip-paddingInline) - (var(--_Chip-minHeight) - 2 * var(--variant-borderWidth, 0px) - var(--Chip-decoratorChildHeight)) / 2), var(--Chip-paddingInline));--Chip-decoratorChildRadius:max(var(--_Chip-radius) - var(--variant-borderWidth, 0px) - var(--_Chip-paddingBlock), min(var(--_Chip-paddingBlock) + var(--variant-borderWidth, 0px), var(--_Chip-radius) / 2));--Chip-deleteRadius:var(--Chip-decoratorChildRadius);--Chip-deleteSize:var(--Chip-decoratorChildHeight);--Avatar-radius:var(--Chip-decoratorChildRadius);--Avatar-size:var(--Chip-decoratorChildHeight);--Icon-margin:initial;--Icon-color:currentColor;--unstable_actionRadius:var(--_Chip-radius);--Chip-paddingInline:0.375rem;--Chip-decoratorChildHeight:calc(var(--_Chip-minHeight) - 2 * var(--variant-borderWidth));--Icon-fontSize:var(--joy-fontSize-sm, 0.875rem);--_Chip-minHeight:var(--Chip-minHeight, 1.25rem);gap:3px;--_Chip-radius:var(--Chip-radius, 1.5rem);--_Chip-paddingBlock:max((var(--_Chip-minHeight) - 2 * var(--variant-borderWidth, 0px) - var(--Chip-decoratorChildHeight)) / 2, 0px);min-height:var(--_Chip-minHeight);max-width:-webkit-max-content;max-width:-moz-max-content;max-width:max-content;padding-inline:var(--Chip-paddingInline);border-radius:var(--_Chip-radius);position:relative;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;white-space:nowrap;-webkit-text-decoration:none;text-decoration:none;vertical-align:middle;box-sizing:border-box;font-family:var(--joy-fontFamily-body, "Inter", var(--joy-fontFamily-fallback, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"));font-weight:var(--joy-fontWeight-md, 500);font-size:var(--joy-fontSize-xs, 0.75rem);line-height:var(--joy-lineHeight-md, 1.5);color:var(--joy-palette-text-tertiary, var(--joy-palette-neutral-600, #555E68));background-color:var(--joy-palette-background-surface, var(--joy-palette-neutral-50, #FBFCFE));--variant-borderWidth:1px;color:var(--variant-outlinedColor, var(--joy-palette-neutral-outlinedColor, var(--joy-palette-neutral-700, #32383E)));border:var(--variant-borderWidth) solid;border-color:var(--variant-outlinedBorder, var(--joy-palette-neutral-outlinedBorder, var(--joy-palette-neutral-300, #CDD7E1)));opacity:0.7;}.css-135fhgz.Mui-disabled{color:var(--variant-outlinedDisabledColor, var(--joy-palette-neutral-outlinedDisabledColor, var(--joy-palette-neutral-400, #9FA6AD)));}.css-135fhgz.Mui-disabled{pointer-events:none;cursor:default;--Icon-color:currentColor;color:var(--variant-outlinedDisabledColor, var(--joy-palette-neutral-outlinedDisabledColor, var(--joy-palette-neutral-400, #9FA6AD)));border-color:var(--variant-outlinedDisabledBorder, var(--joy-palette-neutral-outlinedDisabledBorder, var(--joy-palette-neutral-200, #DDE7EE)));}</style><div class="MuiChip-root MuiChip-colorNeutral MuiChip-sizeSm MuiChip-variantOutlined css-135fhgz"><style data-emotion="css tymi7a">.css-tymi7a{display:inline-block;overflow:hidden;text-overflow:ellipsis;-webkit-order:1;-ms-flex-order:1;order:1;min-inline-size:0;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}</style><span class="MuiChip-label MuiChip-labelSm css-tymi7a" id=":R3elcj7putkq:">gh-pages</span></div><div class="MuiChip-root MuiChip-colorNeutral MuiChip-sizeSm MuiChip-variantOutlined css-135fhgz"><span class="MuiChip-label MuiChip-labelSm css-tymi7a" id=":R5elcj7putkq:">react-router</span></div><div class="MuiChip-root MuiChip-colorNeutral MuiChip-sizeSm MuiChip-variantOutlined css-135fhgz"><span class="MuiChip-label MuiChip-labelSm css-tymi7a" id=":R7elcj7putkq:">hash routing</span></div><div class="MuiChip-root MuiChip-colorNeutral MuiChip-sizeSm MuiChip-variantOutlined css-135fhgz"><span class="MuiChip-label MuiChip-labelSm css-tymi7a" id=":R9elcj7putkq:">giscus</span></div><div class="MuiChip-root MuiChip-colorNeutral MuiChip-sizeSm MuiChip-variantOutlined css-135fhgz"><span class="MuiChip-label MuiChip-labelSm css-tymi7a" id=":Rbelcj7putkq:">debugging</span></div></div></div></div></div></div></div></div><style data-emotion="css 1epkgrd">.css-1epkgrd{width:100%;margin-left:auto;box-sizing:border-box;margin-right:auto;display:block;padding-left:16px;padding-right:16px;position:relative;min-width:100vw;min-height:100vh;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}@media (min-width:600px){.css-1epkgrd{padding-left:24px;padding-right:24px;}}@media (min-width:1200px){.css-1epkgrd{max-width:1200px;}}.css-1epkgrd>div{width:100%;}</style><div class="MuiContainer-root MuiContainer-maxWidthLg css-1epkgrd"><div style="flex:1;display:flex;align-items:center;justify-content:center"><style data-emotion="css rkmvq6">.css-rkmvq6{padding-top:80px;padding-bottom:80px;-webkit-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;max-width:800px;margin-top:-48px;}</style><div class="MuiBox-root css-rkmvq6"><style data-emotion="css 1mkq7cp">.css-1mkq7cp{--Icon-fontSize:calc(1em * var(--joy-lineHeight-md, 1.5));margin:var(--Typography-margin, 0px);display:block;font-family:var(--joy-fontFamily-body, "Inter", var(--joy-fontFamily-fallback, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"));font-size:var(--Typography-fontSize, var(--joy-fontSize-sm, 0.875rem));line-height:var(--joy-lineHeight-md, 1.5);color:var(--joy-palette-text-tertiary, var(--joy-palette-neutral-600, #555E68));margin-top:8px;}</style><p class="MuiTypography-root MuiTypography-body-sm css-1mkq7cp">Image Courtesy:<style data-emotion="css 2a0pin">.css-2a0pin{--Icon-fontSize:1.25em;--Icon-color:currentColor;--CircularProgress-size:1.25em;--CircularProgress-thickness:3px;font:inherit;-webkit-text-decoration:none;text-decoration:none;text-decoration-thickness:max(0.08em, 1px);text-underline-offset:0.15em;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-tap-highlight-color:transparent;background-color:transparent;outline:0;border:0;margin:0;border-radius:var(--joy-radius-xs, 2px);padding:0;cursor:pointer;text-decoration-color:var(--variant-outlinedBorder, rgba(var(--joy-palette-primary-mainChannel, 11 107 203) / var(--Link-underlineOpacity, 0.72)));color:var(--variant-plainColor, rgba(var(--joy-palette-primary-mainChannel, 11 107 203) / 1));-moz-appearance:none;-webkit-appearance:none;position:relative;margin-left:8px;}@media (hover: hover){.css-2a0pin:hover{text-decoration-line:underline;}}.css-2a0pin.Mui-disabled{pointer-events:none;color:var(--variant-plainDisabledColor, rgba(var(--joy-palette-primary-mainChannel, 11 107 203) / 0.6));}.css-2a0pin::-moz-focus-inner{border-style:none;}.css-2a0pin.Mui-focusVisible,.css-2a0pin:focus-visible{outline-offset:var(--focus-outline-offset, var(--joy-focus-thickness, 2px));outline:var(--joy-focus-thickness, 2px) solid var(--joy-palette-focusVisible, #0B6BCB);}</style><a target="_blank" class="MuiLink-root MuiLink-colorPrimary MuiLink-inherit MuiLink-underlineHover css-2a0pin">Praveen Thirumurugan</a></p><div class="md-container"><style data-emotion="css v5p080">.css-v5p080{--Icon-color:var(--joy-palette-text-icon, var(--joy-palette-neutral-500, #636B74));--Card-childRadius:max((var(--Card-radius) - var(--variant-borderWidth, 0px)) - var(--Card-padding), min(var(--Card-padding) / 2, (var(--Card-radius) - var(--variant-borderWidth, 0px)) / 2));--AspectRatio-radius:var(--Card-childRadius);--unstable_actionMargin:calc(-1 * var(--variant-borderWidth, 0px));--unstable_actionRadius:var(--Card-radius);--CardCover-radius:calc(var(--Card-radius) - var(--variant-borderWidth, 0px));--CardOverflow-offset:calc(-1 * var(--Card-padding));--CardOverflow-radius:calc(var(--Card-radius) - var(--variant-borderWidth, 0px));--Divider-inset:calc(-1 * var(--Card-padding));--Card-radius:var(--joy-radius-md, 8px);--Card-padding:1rem;gap:0.75rem 1rem;padding:var(--Card-padding);border-radius:var(--Card-radius);background-color:var(--variant-softBg, var(--joy-palette-neutral-softBg, var(--joy-palette-neutral-100, #F0F4F8)));position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;font-family:var(--joy-fontFamily-body, "Inter", var(--joy-fontFamily-fallback, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"));font-size:var(--joy-fontSize-md, 1rem);line-height:var(--joy-lineHeight-md, 1.5);color:var(--variant-softColor, var(--joy-palette-neutral-softColor, var(--joy-palette-neutral-700, #32383E)));--variant-borderWidth:0px;--Card-radius:1px;padding-top:8px;padding-bottom:8px;border-left:2px solid #aaa;border-radius:1px;}</style><div class="MuiCard-root MuiCard-vertical MuiCard-variantSoft MuiCard-colorNeutral MuiCard-sizeMd css-v5p080"><style data-emotion="css 1yf1ffq">.css-1yf1ffq{--Icon-fontSize:calc(1em * var(--joy-lineHeight-md, 1.5));margin:var(--Typography-margin, 0px);display:block;font-family:var(--joy-fontFamily-body, "Inter", var(--joy-fontFamily-fallback, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"));font-size:var(--Typography-fontSize, var(--joy-fontSize-sm, 0.875rem));line-height:var(--joy-lineHeight-md, 1.5);color:var(--joy-palette-text-tertiary, var(--joy-palette-neutral-600, #555E68));}</style><p data-first-child="" data-last-child="" class="MuiTypography-root MuiTypography-body-sm css-1yf1ffq">
<style data-emotion="css hke6pf">.css-hke6pf{--Icon-fontSize:calc(1em * 1);margin:var(--Typography-margin, 0px);display:inline;font-size:var(--Typography-fontSize, inherit);}</style><span class="MuiTypography-root MuiTypography-inherit css-hke6pf">Hey, before you start reading this blog, you might wanna read this.
In the context of my project, this blog is largely obsolete. Kinda sad, specially cause I had anticipated this might happen from the very first day I wrote this. Still, I believe it could hold some value for others, so I’ll leave it here. Feel free to take a look—maybe you’ll find something useful! :) For the new updated version, feel free to check out <style data-emotion="css 1fssitu">.css-1fssitu{--Icon-fontSize:1.25em;--Icon-color:currentColor;--CircularProgress-size:1.25em;--CircularProgress-thickness:3px;font:inherit;-webkit-text-decoration:none;text-decoration:none;text-decoration-thickness:max(0.08em, 1px);text-underline-offset:0.15em;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-tap-highlight-color:transparent;background-color:transparent;outline:0;border:0;margin:0;border-radius:var(--joy-radius-xs, 2px);padding:0;cursor:pointer;text-decoration-color:var(--variant-outlinedBorder, rgba(var(--joy-palette-primary-mainChannel, 11 107 203) / var(--Link-underlineOpacity, 0.72)));color:var(--variant-plainColor, rgba(var(--joy-palette-primary-mainChannel, 11 107 203) / 1));-moz-appearance:none;-webkit-appearance:none;position:relative;}@media (hover: hover){.css-1fssitu:hover{text-decoration-line:underline;}}.css-1fssitu.Mui-disabled{pointer-events:none;color:var(--variant-plainDisabledColor, rgba(var(--joy-palette-primary-mainChannel, 11 107 203) / 0.6));}.css-1fssitu::-moz-focus-inner{border-style:none;}.css-1fssitu.Mui-focusVisible,.css-1fssitu:focus-visible{outline-offset:var(--focus-outline-offset, var(--joy-focus-thickness, 2px));outline:var(--joy-focus-thickness, 2px) solid var(--joy-palette-focusVisible, #0B6BCB);}</style><a href="https://karunika.work/blog/2bA7t3vgJ8fuGYD1wjA6ah" class="MuiLink-root MuiLink-colorPrimary MuiLink-inherit MuiLink-underlineHover css-1fssitu"> <!-- -->Here&#x27;s what I did not tell you about my Portfolio Website<!-- --> </a> </span>
</p></div>
<style data-emotion="css 9ynou7">.css-9ynou7{--Icon-fontSize:calc(1em * var(--joy-lineHeight-md, 1.5));margin:var(--Typography-margin, 0px);display:block;font-family:var(--joy-fontFamily-body, "Inter", var(--joy-fontFamily-fallback, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"));font-size:var(--Typography-fontSize, var(--joy-fontSize-md, 1rem));line-height:var(--joy-lineHeight-md, 1.5);color:var(--joy-palette-text-secondary, var(--joy-palette-neutral-700, #32383E));}</style><p class="MuiTypography-root MuiTypography-body-md css-9ynou7">Hi again!<!-- --> </p>
<p class="MuiTypography-root MuiTypography-body-md css-9ynou7">I&#x27;m back to discuss some technical aspects of my portfolio website. One of the major issues I faced was with React Routing, which has been particularly challenging.<!-- --> </p>
<style data-emotion="css a7rq8x">.css-a7rq8x{--Icon-fontSize:calc(1em * var(--joy-lineHeight-xs, 1.33334));margin:var(--Typography-margin, 0px);display:block;font-family:var(--joy-fontFamily-display, "Inter", var(--joy-fontFamily-fallback, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"));font-weight:var(--joy-fontWeight-lg, 600);font-size:var(--Typography-fontSize, var(--joy-fontSize-xl2, 1.5rem));line-height:var(--joy-lineHeight-xs, 1.33334);letter-spacing:-0.025em;color:var(--joy-palette-text-primary, var(--joy-palette-neutral-800, #171A1C));}</style><h3 class="MuiTypography-root MuiTypography-h3 css-a7rq8x"> <!-- -->Introduction<!-- --> </h3>
<p class="MuiTypography-root MuiTypography-body-md css-9ynou7">For those who are new to this— this is how most browsers work basically. Everytime you type in a url into the browser&#x27;s address bar, a GET HTTP request is fired. Static web hosting services like GitHub Pages, provide a minimal server as a service, which responds HTTP requests— as the name suggests— with static assets.<!-- --> </p>
<p class="MuiTypography-root MuiTypography-body-md css-9ynou7">For example, visiting <code>https://example.com/xyz.png</code> serves the image <code>xyz.png</code>, while visiting <code>https://example.com</code> typically serves the <code>index.html</code> file automatically, without needing to explicitly include the filename in the url.<!-- --> </p>
<p class="MuiTypography-root MuiTypography-body-md css-9ynou7">However, the key limitation of static hosting is that it expects static asset for each url. In case a static asset is not present, you get the classic 404, &#x27;resouce not found&#x27; error.<!-- --> </p>
<p class="MuiTypography-root MuiTypography-body-md css-9ynou7">Another way we can set off a GET HTTP request is by clicking on hyperlinks occuring in html files. These hyperlinks does a job tantamount to pasting a link present in the href attribute of the anchor tag, into the browser&#x27;s address bar and pressing the enter key.<!-- --> </p>
<p class="MuiTypography-root MuiTypography-body-md css-9ynou7">In more advance serving strategies, like Static Site Generation or Server Side Rendering, these assets are usually dynamically generated during build time or run time respectively, and then served. But for everything you see on the page is a rendered product of what once was a mere HTTP response to the url present on that page&#x27;s address bar.<!-- --> </p>
<p class="MuiTypography-root MuiTypography-body-md css-9ynou7">But there is an exception to this rule. And that exception is Client Side Rendering routings.<!-- --> </p>
<p class="MuiTypography-root MuiTypography-body-md css-9ynou7">There is a way we can programmatically change the url in our browser&#x27;s address bar and not fire a HTTP request. And that way is using the <a href="https://developer.mozilla.org/en-US/docs/Web/API/History_API" class="MuiLink-root MuiLink-colorPrimary MuiLink-inherit MuiLink-underlineHover css-1fssitu"> <!-- -->History API<!-- --> </a>.<!-- --> </p>
<p class="MuiTypography-root MuiTypography-body-md css-9ynou7">Most CSR tools have their own ecosystem, and atleast one router library, which uses the <a href="https://developer.mozilla.org/en-US/docs/Web/API/History_API" class="MuiLink-root MuiLink-colorPrimary MuiLink-inherit MuiLink-underlineHover css-1fssitu"> <!-- -->History API<!-- --> </a> under the hood, including React react-router-dom v6.<!-- --> </p>
<p class="MuiTypography-root MuiTypography-body-md css-9ynou7">Now the problem with Client Side Rendering solutions like React is that when we serve the build files through a static web hosting service, you do not have the views or static &#x27;html&#x27; files at your disposal ready to be served at each route defined in the react app. When you serve these build files, at your base url, a minimal <code>index.html</code> is served with a reference to a bundled JS script, which when recieved and executed, all the router related scripts are made available. It works perfectly fine when you interact and navigate to various routes with the website you recieve at the base url, but guess what happens if you refresh the page? or manually enter a route?<!-- --> </p>
<p class="MuiTypography-root MuiTypography-body-md css-9ynou7">The JS script that determines routes programmatically referenced at the <code>index.html</code> is not received as a HTTP response to the request triggered by the act of refreshing the page or manually typing the url.<!-- --> </p>
<p class="MuiTypography-root MuiTypography-body-md css-9ynou7">For e.g., if you enter <code>https://example.com/about</code> URL manually in your browser, you are essentially causing the browser to send a GET request for that specific path. Since GitHub Pages and other static hosting services don&#x27;t have an <code>about.html</code>, a 404 error is triggered, even if there is a route corresponding to that URL defined in your React script.<!-- --> </p>
<p class="MuiTypography-root MuiTypography-body-md css-9ynou7">If you had control over the server, you can serve <code>index.html</code> for all routes. By sending <code>index.html</code> on all the routes, the script referenced in it is excecuted and only the component meant to be rendered at a particular route is mounted. But unfortunately we do not have that option in most Static Web hosting services like GitHub Pages. I am gonna go through my journey of tackling this problem, so that you can learn from it next you are deploying your static website!<!-- --> </p>
<div class="MuiCard-root MuiCard-vertical MuiCard-variantSoft MuiCard-colorNeutral MuiCard-sizeMd css-v5p080"><p data-first-child="" data-last-child="" class="MuiTypography-root MuiTypography-body-sm css-1yf1ffq">
<span class="MuiTypography-root MuiTypography-inherit css-hke6pf">Traditionally, the code for all the routes is bundled into a single JS file at build time. It isn&#x27;t very difficult to see how this approach can be significantly suboptimal as users have to wait for the entire bundle to load, which may include unnecessary components for the route they initially visited, specially if there are alot of routes and components. There are some strategies like splitting the JS bundle into smaller chunks by <em>lazy-loading components</em>. Lazy-loading essentially just defers loading a component’s code until it is rendered for the first time.<sup><a href="#user-content-fn-1" id="user-content-fnref-1" class="MuiLink-root MuiLink-colorPrimary MuiLink-inherit MuiLink-underlineHover css-1fssitu"> <!-- -->1<!-- --> </a></sup> </span>
</p></div>
<h3 class="MuiTypography-root MuiTypography-h3 css-a7rq8x"> <!-- -->Definitions<!-- --> </h3>
<p class="MuiTypography-root MuiTypography-body-md css-9ynou7">Before that I am just gonna quickly establish how I am going to use some jargon to avoid ambiguous interpretations:<!-- --> </p>
<style data-emotion="css 1fmogwr">.css-1fmogwr{--ListDivider-gap:0.375rem;--ListItem-minHeight:2.25rem;--ListItem-paddingY:0.25rem;--ListItem-paddingX:0.25rem;--ListItem-gap:0.625rem;--ListItemDecorator-size:2.5rem;--Icon-fontSize:var(--joy-fontSize-xl, 1.25rem);--List-gap:0px;--List-nestedInsetStart:0px;--ListItem-paddingLeft:var(--ListItem-paddingX);--ListItem-paddingRight:var(--ListItem-paddingX);--_List-markerDeduct:1ch;--unstable_List-childRadius:calc(max(var(--List-radius) - var(--List-padding), min(var(--List-padding) / 2, var(--List-radius) / 2)) - var(--variant-borderWidth, 0px));--ListItem-radius:var(--unstable_List-childRadius);--ListItem-startActionTranslateX:calc(0.5 * var(--ListItem-paddingLeft));--ListItem-endActionTranslateX:calc(-0.5 * var(--ListItem-paddingRight));margin:initial;font-family:var(--joy-fontFamily-body, "Inter", var(--joy-fontFamily-fallback, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"));font-size:var(--joy-fontSize-md, 1rem);line-height:var(--joy-lineHeight-md, 1.5);color:var(--joy-palette-text-secondary, var(--joy-palette-neutral-700, #32383E));padding-block:var(--List-padding, var(--ListDivider-gap));padding-inline:var(--List-padding);-webkit-padding-start:3ch;padding-inline-start:3ch;box-sizing:border-box;border-radius:var(--List-radius);list-style:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;--_List-markerDisplay:list-item;--_List-markerType:decimal;line-height:calc(var(--ListItem-minHeight) - 2 * var(--ListItem-paddingY));-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;position:relative;--variant-borderWidth:0px;color:var(--variant-plainColor, var(--joy-palette-neutral-plainColor, var(--joy-palette-neutral-700, #32383E)));--unstable_List-borderWidth:var(--variant-borderWidth, 0px);}</style><ul marker="decimal" class="MuiList-root MuiList-vertical MuiList-variantPlain MuiList-colorNeutral MuiList-sizeMd css-1fmogwr"> <!-- -->
<style data-emotion="css 3q61x9">.css-3q61x9{--ListItemButton-marginInline:calc(-1 * var(--ListItem-paddingLeft)) calc(-1 * var(--ListItem-paddingRight));--ListItemButton-marginBlock:calc(-1 * var(--ListItem-paddingY));-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;gap:var(--ListItem-gap);margin-inline:var(--ListItem-marginInline);--unstable_actionRadius:calc(var(--ListItem-radius) - var(--variant-borderWidth, 0px));box-sizing:border-box;border-radius:var(--ListItem-radius);display:var(--_ListItem-display);-webkit-flex:none;-ms-flex:none;flex:none;list-style-type:var(--_List-markerType, disc);position:relative;padding-block-start:var(--ListItem-paddingY);padding-block-end:var(--ListItem-paddingY);-webkit-padding-start:var(--ListItem-paddingLeft);padding-inline-start:var(--ListItem-paddingLeft);-webkit-padding-end:var(--ListItem-paddingRight);padding-inline-end:var(--ListItem-paddingRight);margin-block-start:var(--List-gap);min-block-size:var(--ListItem-minHeight);--variant-borderWidth:0px;color:var(--variant-plainColor, var(--joy-palette-neutral-plainColor, var(--joy-palette-neutral-700, #32383E)));}.css-3q61x9:not([hidden]){--_ListItem-display:var(--_List-markerDisplay, flex);}.MuiListItem-nested>.css-3q61x9{--_ListItem-display:flex;}</style><li class="MuiListItem-root MuiListItem-colorNeutral MuiListItem-variantPlain css-3q61x9"><span data-first-child=""> <strong>origin</strong> or <strong>hostname</strong>: domain name and the top-level domain. E.g., <code>example.com</code>.<!-- --> </span></li>
<li class="MuiListItem-root MuiListItem-colorNeutral MuiListItem-variantPlain css-3q61x9"><span data-first-child=""> <strong>pathname</strong>: anything that is followed by the hostname, but preceeding the hash and query strings. E.g., <code>expample.com/users/blogs/hello-world#title?theme=dark&amp;spacing=2</code>, here <code>/users/blogs/hello-world</code> would be a pathname in my book.<!-- --> </span></li>
<li class="MuiListItem-root MuiListItem-colorNeutral MuiListItem-variantPlain css-3q61x9"><span data-first-child=""> <strong>query string</strong>: begins with &#x27;?&#x27;; key value pairs. E.g., <code>?theme=dark&amp;spacing=2</code> in the previous url.<!-- --> </span></li>
<li class="MuiListItem-root MuiListItem-colorNeutral MuiListItem-variantPlain css-3q61x9"><span data-first-child=""> <strong>anchor</strong>: string followed by the <code>#</code>.<!-- --> </span></li>
<!-- --> </ul>
<p class="MuiTypography-root MuiTypography-body-md css-9ynou7">I consider all the term I have introduced so far as parts of an url.<!-- --> </p>
<ul marker="decimal" class="MuiList-root MuiList-vertical MuiList-variantPlain MuiList-colorNeutral MuiList-sizeMd css-1fmogwr"> <!-- -->
<li class="MuiListItem-root MuiListItem-colorNeutral MuiListItem-variantPlain css-3q61x9"><span data-first-child=""> <strong>base url</strong>: the url at which the <code>index.html</code> is served in a static hosting. In <code>package.json</code> it is called <code>homepage</code>.<!-- --> </span></li>
<li class="MuiListItem-root MuiListItem-colorNeutral MuiListItem-variantPlain css-3q61x9"><span data-first-child=""> <strong>basename</strong>: the base path at which <code>index.html</code> is served. That would be base url without the origin.<!-- --> </span></li>
<!-- --> </ul>
<h3 class="MuiTypography-root MuiTypography-h3 css-a7rq8x"> <!-- -->Problem Forumulation in my Project&#x27;s Context<!-- --> </h3>
<p class="MuiTypography-root MuiTypography-body-md css-9ynou7">So conventionally, the default base url at which github pages serve static file is <code>&lt;username&gt;.github.io/&lt;repository_name&gt;</code>.<!-- --> </p>
<p class="MuiTypography-root MuiTypography-body-md css-9ynou7"><code>BrowserRouter</code> from react-router usually assumes the base url to be the origin part of the url.<!-- --> </p>
<p class="MuiTypography-root MuiTypography-body-md css-9ynou7">For you to specifically set a url containing a pathname as a part of base url, you must pass it as a value of the basename in the <code>basename</code> property of BrowserRouter.<!-- --> </p>
<p class="MuiTypography-root MuiTypography-body-md css-9ynou7">My initial draft of the Router component I wrote looked something akin to the following:<!-- --> </p>
<style data-emotion="css pyvwho">.css-pyvwho{max-width:calc(100vw - 24px);}</style><div class="MuiBox-root css-pyvwho"><style data-emotion="css 1po12w2">.css-1po12w2{--Icon-color:var(--joy-palette-text-icon, var(--joy-palette-neutral-500, #636B74));--Card-childRadius:max((var(--Card-radius) - var(--variant-borderWidth, 0px)) - var(--Card-padding), min(var(--Card-padding) / 2, (var(--Card-radius) - var(--variant-borderWidth, 0px)) / 2));--AspectRatio-radius:var(--Card-childRadius);--unstable_actionMargin:calc(-1 * var(--variant-borderWidth, 0px));--unstable_actionRadius:var(--Card-radius);--CardCover-radius:calc(var(--Card-radius) - var(--variant-borderWidth, 0px));--CardOverflow-offset:calc(-1 * var(--Card-padding));--CardOverflow-radius:calc(var(--Card-radius) - var(--variant-borderWidth, 0px));--Divider-inset:calc(-1 * var(--Card-padding));--Card-radius:var(--joy-radius-md, 8px);--Card-padding:1rem;gap:0.75rem 1rem;padding:var(--Card-padding);border-radius:var(--Card-radius);background-color:var(--joy-palette-background-surface, var(--joy-palette-neutral-50, #FBFCFE));position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;font-family:var(--joy-fontFamily-body, "Inter", var(--joy-fontFamily-fallback, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"));font-size:var(--joy-fontSize-md, 1rem);line-height:var(--joy-lineHeight-md, 1.5);color:var(--variant-outlinedColor, var(--joy-palette-neutral-outlinedColor, var(--joy-palette-neutral-700, #32383E)));--variant-borderWidth:1px;border:var(--variant-borderWidth) solid;border-color:var(--variant-outlinedBorder, var(--joy-palette-neutral-outlinedBorder, var(--joy-palette-neutral-300, #CDD7E1)));overflow-x:scroll;box-sizing:border-box;}</style><div class="MuiCard-root MuiCard-vertical MuiCard-variantOutlined MuiCard-colorNeutral MuiCard-sizeMd css-1po12w2"><code class="language-language-ts" style="white-space:pre" data-first-child="" data-last-child=""><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">1</span><span style="font-weight:bold">const</span><span> Router = </span><span class="hljs-function">() =&gt;</span><span> {
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">2</span><span>    </span><span style="font-weight:bold">return</span><span> (
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">3</span><span>        </span><span class="xml hljs-tag">&lt;</span><span class="xml hljs-tag" style="font-weight:bold">BrowserRouter</span><span class="xml hljs-tag"> </span><span class="xml hljs-tag hljs-attr">basename</span><span class="xml hljs-tag">=</span><span class="xml hljs-tag" style="color:#880000">{process.env.PUBLIC_URL}</span><span class="xml hljs-tag">&gt;</span><span class="xml">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">4</span><span class="xml">            </span><span class="xml hljs-tag">&lt;</span><span class="xml hljs-tag" style="font-weight:bold">Routes</span><span class="xml hljs-tag">&gt;</span><span class="xml">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">5</span><span class="xml">                </span><span class="xml hljs-tag">&lt;</span><span class="xml hljs-tag" style="font-weight:bold">Route</span><span class="xml hljs-tag"> </span><span class="xml hljs-tag hljs-attr">path</span><span class="xml hljs-tag">=</span><span class="xml hljs-tag" style="color:#880000">&#x27;/&#x27;</span><span class="xml hljs-tag"> </span><span class="xml hljs-tag hljs-attr">element</span><span class="xml hljs-tag">=</span><span class="xml hljs-tag" style="color:#880000">{</span><span class="xml hljs-tag">&lt;</span><span class="xml hljs-tag hljs-attr">Layout</span><span class="xml hljs-tag"> /&gt;</span><span class="xml">}&gt;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">6</span><span class="xml">                    </span><span class="xml hljs-tag">&lt;</span><span class="xml hljs-tag" style="font-weight:bold">Route</span><span class="xml hljs-tag"> </span><span class="xml hljs-tag hljs-attr">index</span><span class="xml hljs-tag"> </span><span class="xml hljs-tag hljs-attr">element</span><span class="xml hljs-tag">=</span><span class="xml hljs-tag" style="color:#880000">{</span><span class="xml hljs-tag">&lt;</span><span class="xml hljs-tag hljs-attr">Home</span><span class="xml hljs-tag"> /&gt;</span><span class="xml">} /&gt;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">7</span><span class="xml">                    </span><span class="xml hljs-tag">&lt;</span><span class="xml hljs-tag" style="font-weight:bold">Route</span><span class="xml hljs-tag"> </span><span class="xml hljs-tag hljs-attr">path</span><span class="xml hljs-tag">=</span><span class="xml hljs-tag" style="color:#880000">&#x27;blog&#x27;</span><span class="xml hljs-tag"> </span><span class="xml hljs-tag hljs-attr">element</span><span class="xml hljs-tag">=</span><span class="xml hljs-tag" style="color:#880000">{</span><span class="xml hljs-tag">&lt;</span><span class="xml hljs-tag hljs-attr">BlogList</span><span class="xml hljs-tag"> /&gt;</span><span class="xml">} /&gt;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">8</span><span class="xml">                    </span><span class="xml hljs-tag">&lt;</span><span class="xml hljs-tag" style="font-weight:bold">Route</span><span class="xml hljs-tag"> </span><span class="xml hljs-tag hljs-attr">path</span><span class="xml hljs-tag">=</span><span class="xml hljs-tag" style="color:#880000">&#x27;blog/:id&#x27;</span><span class="xml hljs-tag"> </span><span class="xml hljs-tag hljs-attr">element</span><span class="xml hljs-tag">=</span><span class="xml hljs-tag" style="color:#880000">{</span><span class="xml hljs-tag">&lt;</span><span class="xml hljs-tag hljs-attr">Blog</span><span class="xml hljs-tag"> /&gt;</span><span class="xml">} /&gt;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">9</span><span class="xml">                </span><span class="xml hljs-tag">&lt;/</span><span class="xml hljs-tag" style="font-weight:bold">Route</span><span class="xml hljs-tag">&gt;</span><span class="xml">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">10</span><span class="xml">            </span><span class="xml hljs-tag">&lt;/</span><span class="xml hljs-tag" style="font-weight:bold">Routes</span><span class="xml hljs-tag">&gt;</span><span class="xml">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">11</span><span class="xml">        </span><span class="xml hljs-tag">&lt;/</span><span class="xml hljs-tag" style="font-weight:bold">BrowserRouter</span><span class="xml hljs-tag">&gt;</span><span>
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">12</span>    )
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">13</span>}
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">14</span></code></div></div>
<p class="MuiTypography-root MuiTypography-body-md css-9ynou7">where <code>process.enc.PUBLIC_URL</code> automatically grabs the basename from <code>package.json</code>&#x27;s <code>&quot;homepage&quot;</code> property.<!-- --> </p>
<div class="MuiBox-root css-pyvwho"><div class="MuiCard-root MuiCard-vertical MuiCard-variantOutlined MuiCard-colorNeutral MuiCard-sizeMd css-1po12w2"><code class="language-language-json" style="white-space:pre" data-first-child="" data-last-child=""><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none">1</span><span>  </span><span style="color:#880000">&quot;homepage&quot;</span><span>: </span><span style="color:#880000">&quot;https://karunika.github.io/portfolio/&quot;</span><span>,
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none">2</span></code></div></div>
<p class="MuiTypography-root MuiTypography-body-md css-9ynou7">that worked very well, but unsuprisingly, served an error whenever I manually visited <code>https://karunika.github.io/portfolio/blog</code>.<!-- --> </p>
<p class="MuiTypography-root MuiTypography-body-md css-9ynou7"><span style="max-width:calc(100vw - 48px);display:flex;align-items:center;justify-content:center"><img src="//images.ctfassets.net/ud4ywsjg17po/4etc1kcSxeWOonntfxiHzd/654b352d058392809fa25a5713efaa55/image.png" loading="lazy" alt="404 github error" style="max-width:90%;border-radius:10px"/></span> </p>
<p class="MuiTypography-root MuiTypography-body-md css-9ynou7">Well this poses an undoubtedly huge problem.<!-- --> </p>
<h3 class="MuiTypography-root MuiTypography-h3 css-a7rq8x"> <!-- -->Replacing BrowserRouter with HashRouter<!-- --> </h3>
<p class="MuiTypography-root MuiTypography-body-md css-9ynou7">Here&#x27;s how anchors work: they are never sent to the server. This means that modifying or appending anything after the # in the url does trigger an HTTP GET request but not with a new url—it behaves as though the anchor doesn’t exist. As a result, it always gets the <code>index.html</code> file if the request is made to base url followed by a hash followed by anything.<!-- --> </p>
<p class="MuiTypography-root MuiTypography-body-md css-9ynou7">So a strategy people often use is append a <code>#</code> to the base url and manage all the routing after that programmatically. Simple, right? No :)<!-- --> </p>
<p class="MuiTypography-root MuiTypography-body-md css-9ynou7">here&#x27;s what I did<!-- --> </p>
<div class="MuiBox-root css-pyvwho"><div class="MuiCard-root MuiCard-vertical MuiCard-variantOutlined MuiCard-colorNeutral MuiCard-sizeMd css-1po12w2"><code class="language-language-ts" style="white-space:pre" data-first-child="" data-last-child=""><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">1</span><span style="font-weight:bold">const</span><span> Router = </span><span class="hljs-function">() =&gt;</span><span> {
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">2</span><span>    </span><span style="font-weight:bold">return</span><span> (
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">3</span><span>        </span><span class="xml hljs-tag">&lt;</span><span class="xml hljs-tag" style="font-weight:bold">HashRouter</span><span class="xml hljs-tag"> </span><span class="xml hljs-tag hljs-attr">basename</span><span class="xml hljs-tag">=</span><span class="xml hljs-tag" style="color:#880000">{process.env.PUBLIC_URL}</span><span class="xml hljs-tag">&gt;</span><span class="xml">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">4</span><span class="xml">            </span><span class="xml hljs-tag">&lt;</span><span class="xml hljs-tag" style="font-weight:bold">Routes</span><span class="xml hljs-tag">&gt;</span><span class="xml">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">5</span><span class="xml">                </span><span class="xml hljs-tag">&lt;</span><span class="xml hljs-tag" style="font-weight:bold">Route</span><span class="xml hljs-tag"> </span><span class="xml hljs-tag hljs-attr">path</span><span class="xml hljs-tag">=</span><span class="xml hljs-tag" style="color:#880000">&#x27;/&#x27;</span><span class="xml hljs-tag"> </span><span class="xml hljs-tag hljs-attr">element</span><span class="xml hljs-tag">=</span><span class="xml hljs-tag" style="color:#880000">{</span><span class="xml hljs-tag">&lt;</span><span class="xml hljs-tag hljs-attr">Layout</span><span class="xml hljs-tag"> /&gt;</span><span class="xml">}&gt;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">6</span><span class="xml">                    </span><span class="xml hljs-tag">&lt;</span><span class="xml hljs-tag" style="font-weight:bold">Route</span><span class="xml hljs-tag"> </span><span class="xml hljs-tag hljs-attr">index</span><span class="xml hljs-tag"> </span><span class="xml hljs-tag hljs-attr">element</span><span class="xml hljs-tag">=</span><span class="xml hljs-tag" style="color:#880000">{</span><span class="xml hljs-tag">&lt;</span><span class="xml hljs-tag hljs-attr">Home</span><span class="xml hljs-tag"> /&gt;</span><span class="xml">} /&gt;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">7</span><span class="xml">                    </span><span class="xml hljs-tag">&lt;</span><span class="xml hljs-tag" style="font-weight:bold">Route</span><span class="xml hljs-tag"> </span><span class="xml hljs-tag hljs-attr">path</span><span class="xml hljs-tag">=</span><span class="xml hljs-tag" style="color:#880000">&#x27;blog&#x27;</span><span class="xml hljs-tag"> </span><span class="xml hljs-tag hljs-attr">element</span><span class="xml hljs-tag">=</span><span class="xml hljs-tag" style="color:#880000">{</span><span class="xml hljs-tag">&lt;</span><span class="xml hljs-tag hljs-attr">BlogList</span><span class="xml hljs-tag"> /&gt;</span><span class="xml">} /&gt;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">8</span><span class="xml">                    </span><span class="xml hljs-tag">&lt;</span><span class="xml hljs-tag" style="font-weight:bold">Route</span><span class="xml hljs-tag"> </span><span class="xml hljs-tag hljs-attr">path</span><span class="xml hljs-tag">=</span><span class="xml hljs-tag" style="color:#880000">&#x27;blog/:id&#x27;</span><span class="xml hljs-tag"> </span><span class="xml hljs-tag hljs-attr">element</span><span class="xml hljs-tag">=</span><span class="xml hljs-tag" style="color:#880000">{</span><span class="xml hljs-tag">&lt;</span><span class="xml hljs-tag hljs-attr">Blog</span><span class="xml hljs-tag"> /&gt;</span><span class="xml">} /&gt;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">9</span><span class="xml">                </span><span class="xml hljs-tag">&lt;/</span><span class="xml hljs-tag" style="font-weight:bold">Route</span><span class="xml hljs-tag">&gt;</span><span class="xml">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">10</span><span class="xml">            </span><span class="xml hljs-tag">&lt;/</span><span class="xml hljs-tag" style="font-weight:bold">Routes</span><span class="xml hljs-tag">&gt;</span><span class="xml">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">11</span><span class="xml">        </span><span class="xml hljs-tag">&lt;/</span><span class="xml hljs-tag" style="font-weight:bold">HashRouter</span><span class="xml hljs-tag">&gt;</span><span>
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">12</span>    )
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">13</span>}
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">14</span></code></div></div>
<p class="MuiTypography-root MuiTypography-body-md css-9ynou7">Simply replaced <code>BrowserRouter</code> with <code>HashRouter</code> and quickly realised that this didn&#x27;t work as expected.<!-- --> </p>
<p class="MuiTypography-root MuiTypography-body-md css-9ynou7">Let&#x27;s take this example from the <a href="https://reactrouter.com/en/main/router-components/hash-router" class="MuiLink-root MuiLink-colorPrimary MuiLink-inherit MuiLink-underlineHover css-1fssitu"> <!-- -->react router docs<!-- --> </a>.<!-- --> </p>
<div class="MuiBox-root css-pyvwho"><div class="MuiCard-root MuiCard-vertical MuiCard-variantOutlined MuiCard-colorNeutral MuiCard-sizeMd css-1po12w2"><code class="language-language-js" style="white-space:pre" data-first-child="" data-last-child=""><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">1</span><span class="hljs-function" style="font-weight:bold">function</span><span class="hljs-function"> </span><span class="hljs-function" style="color:#880000;font-weight:bold">App</span><span class="hljs-function">(</span><span class="hljs-function">) </span><span>{
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">2</span><span>  </span><span style="font-weight:bold">return</span><span> (
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">3</span><span>    </span><span class="xml hljs-tag">&lt;</span><span class="xml hljs-tag" style="font-weight:bold">HashRouter</span><span class="xml hljs-tag"> </span><span class="xml hljs-tag hljs-attr">basename</span><span class="xml hljs-tag">=</span><span class="xml hljs-tag" style="color:#880000">&quot;/app&quot;</span><span class="xml hljs-tag">&gt;</span><span class="xml">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">4</span><span class="xml">      </span><span class="xml hljs-tag">&lt;</span><span class="xml hljs-tag" style="font-weight:bold">Routes</span><span class="xml hljs-tag">&gt;</span><span class="xml">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">5</span><span class="xml">        </span><span class="xml hljs-tag">&lt;</span><span class="xml hljs-tag" style="font-weight:bold">Route</span><span class="xml hljs-tag"> </span><span class="xml hljs-tag hljs-attr">path</span><span class="xml hljs-tag">=</span><span class="xml hljs-tag" style="color:#880000">&quot;/&quot;</span><span class="xml hljs-tag"> /&gt;</span><span class="xml"> {/* 👈 Renders at /#/app/ */}
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">6</span><span class="xml">      </span><span class="xml hljs-tag">&lt;/</span><span class="xml hljs-tag" style="font-weight:bold">Routes</span><span class="xml hljs-tag">&gt;</span><span class="xml">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">7</span><span class="xml">    </span><span class="xml hljs-tag">&lt;/</span><span class="xml hljs-tag" style="font-weight:bold">HashRouter</span><span class="xml hljs-tag">&gt;</span><span>
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">8</span>  );
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">9</span>}
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">10</span></code></div></div>
<p class="MuiTypography-root MuiTypography-body-md css-9ynou7">So using this, doesn&#x27;t append a hash to the route, but prepends it to the base name!<!-- --> </p>
<p class="MuiTypography-root MuiTypography-body-md css-9ynou7">Well that wouldn&#x27;t have helped my case at all, cause I cannot make GitHub pages serve at <code>https://karunika.github.io/#/portfolio/</code> instead of <code>https://karunika.github.io/portfolio/</code>.<!-- --> </p>
<p class="MuiTypography-root MuiTypography-body-md css-9ynou7">So I made some changes here and there, researched it on the internet forums, stackoverflow, and what not and found myself at the same position as what I had began with.<!-- --> </p>
<p class="MuiTypography-root MuiTypography-body-md css-9ynou7">Here&#x27;s an excercise for you :) Tell me in the comments why this won&#x27;t work either:<!-- --> </p>
<div class="MuiBox-root css-pyvwho"><div class="MuiCard-root MuiCard-vertical MuiCard-variantOutlined MuiCard-colorNeutral MuiCard-sizeMd css-1po12w2"><code class="language-language-ts" style="white-space:pre" data-first-child="" data-last-child=""><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">1</span><span style="font-weight:bold">const</span><span> Router = </span><span class="hljs-function">() =&gt;</span><span> {
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">2</span><span>    </span><span style="font-weight:bold">return</span><span> (
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">3</span><span>        </span><span class="xml hljs-tag">&lt;</span><span class="xml hljs-tag" style="font-weight:bold">HashRouter</span><span class="xml hljs-tag"> </span><span class="xml hljs-tag hljs-attr">basename</span><span class="xml hljs-tag">=</span><span class="xml hljs-tag" style="color:#880000">{process.env.PUBLIC_URL}</span><span class="xml hljs-tag">&gt;</span><span class="xml">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">4</span><span class="xml">            </span><span class="xml hljs-tag">&lt;</span><span class="xml hljs-tag" style="font-weight:bold">Routes</span><span class="xml hljs-tag">&gt;</span><span class="xml">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">5</span><span class="xml">                </span><span class="xml hljs-tag">&lt;</span><span class="xml hljs-tag" style="font-weight:bold">Route</span><span class="xml hljs-tag"> </span><span class="xml hljs-tag hljs-attr">path</span><span class="xml hljs-tag">=</span><span class="xml hljs-tag" style="color:#880000">&#x27;/&#x27;</span><span class="xml hljs-tag"> </span><span class="xml hljs-tag hljs-attr">element</span><span class="xml hljs-tag">=</span><span class="xml hljs-tag" style="color:#880000">{</span><span class="xml hljs-tag">&lt;</span><span class="xml hljs-tag hljs-attr">Layout</span><span class="xml hljs-tag"> /&gt;</span><span class="xml">}&gt;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">6</span><span class="xml">                    </span><span class="xml hljs-tag">&lt;</span><span class="xml hljs-tag" style="font-weight:bold">Route</span><span class="xml hljs-tag"> </span><span class="xml hljs-tag hljs-attr">index</span><span class="xml hljs-tag"> </span><span class="xml hljs-tag hljs-attr">element</span><span class="xml hljs-tag">=</span><span class="xml hljs-tag" style="color:#880000">{</span><span class="xml hljs-tag">&lt;</span><span class="xml hljs-tag hljs-attr">Home</span><span class="xml hljs-tag"> /&gt;</span><span class="xml">} /&gt;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">7</span><span class="xml">                    </span><span class="xml hljs-tag">&lt;</span><span class="xml hljs-tag" style="font-weight:bold">Route</span><span class="xml hljs-tag"> </span><span class="xml hljs-tag hljs-attr">path</span><span class="xml hljs-tag">=</span><span class="xml hljs-tag" style="color:#880000">&#x27;blog&#x27;</span><span class="xml hljs-tag"> </span><span class="xml hljs-tag hljs-attr">element</span><span class="xml hljs-tag">=</span><span class="xml hljs-tag" style="color:#880000">{</span><span class="xml hljs-tag">&lt;</span><span class="xml hljs-tag hljs-attr">BlogList</span><span class="xml hljs-tag"> /&gt;</span><span class="xml">} /&gt;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">8</span><span class="xml">                    </span><span class="xml hljs-tag">&lt;</span><span class="xml hljs-tag" style="font-weight:bold">Route</span><span class="xml hljs-tag"> </span><span class="xml hljs-tag hljs-attr">path</span><span class="xml hljs-tag">=</span><span class="xml hljs-tag" style="color:#880000">&#x27;blog/:id&#x27;</span><span class="xml hljs-tag"> </span><span class="xml hljs-tag hljs-attr">element</span><span class="xml hljs-tag">=</span><span class="xml hljs-tag" style="color:#880000">{</span><span class="xml hljs-tag">&lt;</span><span class="xml hljs-tag hljs-attr">Blog</span><span class="xml hljs-tag"> /&gt;</span><span class="xml">} /&gt;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">9</span><span class="xml">                </span><span class="xml hljs-tag">&lt;/</span><span class="xml hljs-tag" style="font-weight:bold">Route</span><span class="xml hljs-tag">&gt;</span><span class="xml">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">10</span><span class="xml">            </span><span class="xml hljs-tag">&lt;/</span><span class="xml hljs-tag" style="font-weight:bold">Routes</span><span class="xml hljs-tag">&gt;</span><span class="xml">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">11</span><span class="xml">        </span><span class="xml hljs-tag">&lt;/</span><span class="xml hljs-tag" style="font-weight:bold">HashRouter</span><span class="xml hljs-tag">&gt;</span><span>
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">12</span>    )
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">13</span>}
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">14</span></code></div></div>
<h3 class="MuiTypography-root MuiTypography-h3 css-a7rq8x"> <!-- -->Workarounds that didn&#x27;t work for me<!-- --> </h3>
<p class="MuiTypography-root MuiTypography-body-md css-9ynou7">Some workarounds that didn&#x27;t work for me, but might work for you.<!-- --> </p>
<p class="MuiTypography-root MuiTypography-body-md css-9ynou7">If your goal is simply to avoid the github&#x27;s 404, you can write a custom <code>404.html</code> in the <code>public</code> folder, but anything you see there won&#x27;t be a part of your React Single Page Application (SPA). And the only way to enter your SPA from this page would be by manually navigating to the base URL provided by GitHub.<!-- --> </p>
<p class="MuiTypography-root MuiTypography-body-md css-9ynou7">That said, one way to route users back into your React SPA is by redirecting them to the index route using a script in your <code>404.html</code> file, like so:<!-- --> </p>
<div class="MuiBox-root css-pyvwho"><div class="MuiCard-root MuiCard-vertical MuiCard-variantOutlined MuiCard-colorNeutral MuiCard-sizeMd css-1po12w2"><code class="language-language-js" style="white-space:pre" data-first-child="" data-last-child=""><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none">1</span><span style="font-weight:bold">window</span><span>.</span><span style="font-weight:bold">location</span><span>.href = </span><span style="font-weight:bold">window</span><span>.</span><span style="font-weight:bold">location</span><span>.hostname + repositoryLink
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none">2</span></code></div></div>
<p class="MuiTypography-root MuiTypography-body-md css-9ynou7">Just for the record, this triggers a full HTTP request to the new route, rather than just programmatically updating the url as would happen if you used <code>window.history</code> methods for navigation.<!-- --> </p>
<p class="MuiTypography-root MuiTypography-body-md css-9ynou7">Using this solution, if I were to enter <code>https://karunika.github.io/portfolio/blog</code> manually in my address bar, I&#x27;ll be redirected to <code>https://karunika.github.io/portfolio/</code>. If your site has many routes, this isn’t a great user experience since users would need to navigate back to their desired page every time they reload.<!-- --> </p>
<p class="MuiTypography-root MuiTypography-body-md css-9ynou7">For me, I wanted the ability to share links to my blogs, so this was definitely not it.<!-- --> </p>
<h3 class="MuiTypography-root MuiTypography-h3 css-a7rq8x"> <!-- -->My last unsuccessful try<!-- --> </h3>
<p class="MuiTypography-root MuiTypography-body-md css-9ynou7">Had my base url just been <code>https://karunika.github.io/</code>, the <code>HashRouter</code> would have worked perfectly fine. Why?<!-- --> </p>
<p class="MuiTypography-root MuiTypography-body-md css-9ynou7">It wouldn&#x27;t require a basename. Simple. Just a simple append of <code>#</code> after the link.<!-- --> </p>
<p class="MuiTypography-root MuiTypography-body-md css-9ynou7">So here&#x27;s what I tried. I soft redirected myself to the <code>https://karunika.github.io/</code> in my root component, and then used a <code>HashRouter</code> with no basename.<!-- --> </p>
<p class="MuiTypography-root MuiTypography-body-md css-9ynou7">But to my dissapointment, that didn&#x27;t work either cause on reloads, since react app wasn&#x27;t served by GitHub pages at that route, my poor server was clueless where to find the resources to display.<!-- --> </p>
<h3 class="MuiTypography-root MuiTypography-h3 css-a7rq8x"> <!-- -->I bought a domain name<!-- --> </h3>
<p class="MuiTypography-root MuiTypography-body-md css-9ynou7">Well, I bought a domain from <a href="https://www.cloudflare.com/" class="MuiLink-root MuiLink-colorPrimary MuiLink-inherit MuiLink-underlineHover css-1fssitu"> <!-- -->Cloudflare<!-- --> </a>, configured my GitHub pages to use my custom domain, and now I didn&#x27;t have to worry about basenames at all.<!-- --> </p>
<p class="MuiTypography-root MuiTypography-body-md css-9ynou7">The <code>index.html</code> is served at the base &#x27;/&#x27; and using <code>HashRouter</code> on top of it worked perfectly.<!-- --> </p>
<p class="MuiTypography-root MuiTypography-body-md css-9ynou7">At the end, I am pretty happy about actually buying the domain name, cause it even looks cooler.<!-- --> </p>
<h3 class="MuiTypography-root MuiTypography-h3 css-a7rq8x"> <!-- -->Other solutions<!-- --> </h3>
<p class="MuiTypography-root MuiTypography-body-md css-9ynou7">Some people on <a href="https://www.reactiflux.com/" class="MuiLink-root MuiLink-colorPrimary MuiLink-inherit MuiLink-underlineHover css-1fssitu"> <!-- -->Reactiflux Discord Server<!-- --> </a> recommended alternatives like <a href="https://app.netlify.com/" class="MuiLink-root MuiLink-colorPrimary MuiLink-inherit MuiLink-underlineHover css-1fssitu"> <!-- -->netlify<!-- --> </a> or <a href="https://www.heroku.com" class="MuiLink-root MuiLink-colorPrimary MuiLink-inherit MuiLink-underlineHover css-1fssitu"> <!-- -->heroku<!-- --> </a>, and I’ve used both before—they&#x27;re great options. However, I personally preferred the GitHub domain name, so I was hesitant to switch away from GitHub.<!-- --> </p>
<p class="MuiTypography-root MuiTypography-body-md css-9ynou7">Eventually I bought my own domain which worked seamlessly with GitHub, so didn&#x27;t bother to myself to switch to a different hosting service.<!-- --> </p>
<h3 class="MuiTypography-root MuiTypography-h3 css-a7rq8x"> <!-- -->Incorporating giscus comment section<!-- --> </h3>
<p class="MuiTypography-root MuiTypography-body-md css-9ynou7">There is still more to the story than meets the eye.<!-- --> </p>
<p class="MuiTypography-root MuiTypography-body-md css-9ynou7">The authentication callback URLs using giscus included a trailing <code>#comments</code> anchor. In a <code>HashRouter</code>, the <code>#comments</code> is treated as the <code>/comments</code> route. Since none of my routes matched that path, I was constantly getting router warnings—though they were disabled in production mode. Given that most of my routing issues were caused by GitHub Pages in the past, I was mostly testing my app in production mode (lol), so I was pretty oblivious to what was going on for a couple of hours.<!-- --> </p>
<p class="MuiTypography-root MuiTypography-body-md css-9ynou7">This warning ended up being the reason for the authentication failure, although I’m still unsure of the exact cause. What made it even more perplexing was that my cookies were still being set. If you have any insights on why the authentication was failing, feel free to share in the comments!<!-- --> </p>
<p class="MuiTypography-root MuiTypography-body-md css-9ynou7">Eventually adding this line was a neat little fix:<!-- --> </p>
<div class="MuiBox-root css-pyvwho"><div class="MuiCard-root MuiCard-vertical MuiCard-variantOutlined MuiCard-colorNeutral MuiCard-sizeMd css-1po12w2"><code class="language-language-ts" style="white-space:pre" data-first-child="" data-last-child=""><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none">1</span><span>&lt;Route</span><span style="color:#397300"> path</span><span>=</span><span style="color:#880000">&#x27;comments&#x27;</span><span> </span><span style="font-weight:bold">element</span><span>={&lt;Navigate </span><span style="font-weight:bold">to</span><span>=</span><span style="color:#880000">&#x27;../blog&#x27;</span><span style="color:#397300"> replace</span><span>=</span><span style="color:#397300">{true</span><span>} /&gt;} /&gt;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none">2</span></code></div></div>
<p class="MuiTypography-root MuiTypography-body-md css-9ynou7">There are still some issues with the current setup—for instance, after signing in with GitHub, you&#x27;re not redirected back to the original page where you clicked &#x27;Sign in with GitHub&#x27;.<!-- --> </p>
<p class="MuiTypography-root MuiTypography-body-md css-9ynou7">I don&#x27;t believe this can be easily fixed, and here&#x27;s why.<!-- --> </p>
<p class="MuiTypography-root MuiTypography-body-md css-9ynou7">With client side routing, you have the option to pass along a piece of information or &quot;state&quot; to the route you&#x27;re navigating to. In React, for example, you can pass state like this:<!-- --> </p>
<div class="MuiBox-root css-pyvwho"><div class="MuiCard-root MuiCard-vertical MuiCard-variantOutlined MuiCard-colorNeutral MuiCard-sizeMd css-1po12w2"><code class="language-language-ts" style="white-space:pre" data-first-child="" data-last-child=""><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none">1</span><span>&lt;Navigate </span><span class="hljs-attr">to</span><span>=</span><span style="color:#880000">&#x27;xyz&#x27;</span><span> state={ data: </span><span style="color:#880000">&#x27;hello world&#x27;</span><span> } /&gt;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none">2</span></code></div></div>
<p class="MuiTypography-root MuiTypography-body-md css-9ynou7">Then, in the component rendered at <code>/xyz</code>, you can access that state using:<!-- --> </p>
<div class="MuiBox-root css-pyvwho"><div class="MuiCard-root MuiCard-vertical MuiCard-variantOutlined MuiCard-colorNeutral MuiCard-sizeMd css-1po12w2"><code class="language-language-ts" style="white-space:pre" data-first-child="" data-last-child=""><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none">1</span><span>import { useLocation } </span><span style="font-weight:bold">from</span><span> &#x27;react-router-dom&#x27;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none">2</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none">3</span><span></span><span style="font-weight:bold">const</span><span> XyzPage = () =&gt; {
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none">4</span><span>    </span><span style="font-weight:bold">const</span><span> { </span><span style="font-weight:bold">state</span><span> } = useLocation()
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none">5</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none">6</span><span>    return </span><span style="color:#BC6060">&lt;div&gt;</span><span>{</span><span style="font-weight:bold">state</span><span>.hello}&lt;/div&gt;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none">7</span>}
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none">8</span></code></div></div>
<p class="MuiTypography-root MuiTypography-body-md css-9ynou7">In vanilla JavaScript, this can be achieved with,<!-- --> </p>
<p class="MuiTypography-root MuiTypography-body-md css-9ynou7">To navigate,<!-- --> </p>
<div class="MuiBox-root css-pyvwho"><div class="MuiCard-root MuiCard-vertical MuiCard-variantOutlined MuiCard-colorNeutral MuiCard-sizeMd css-1po12w2"><code class="language-language-js" style="white-space:pre" data-first-child="" data-last-child=""><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none">1</span><span>pushState({ data: </span><span style="color:#BC6060">&#x27;hello</span><span> world&#x27; }, &#x27;&#x27;, </span><span style="color:#BC6060">&#x27;/xyz</span><span>&#x27;)
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none">2</span></code></div></div>
<p class="MuiTypography-root MuiTypography-body-md css-9ynou7">an to access state.<!-- --> </p>
<div class="MuiBox-root css-pyvwho"><div class="MuiCard-root MuiCard-vertical MuiCard-variantOutlined MuiCard-colorNeutral MuiCard-sizeMd css-1po12w2"><code class="language-language-js" style="white-space:pre" data-first-child="" data-last-child=""><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none">1</span><span>console.</span><span style="font-weight:bold">log</span><span>(window.history.</span><span style="font-weight:bold">state</span><span>) // &#x27;hello world&#x27;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none">2</span></code></div></div>
<p class="MuiTypography-root MuiTypography-body-md css-9ynou7">Using this approach, you could kind of send the current path to the new route when navigating, allowing you to track where the user came from.<!-- --> </p>
<p class="MuiTypography-root MuiTypography-body-md css-9ynou7">However, there&#x27;s no way to pass state during a &quot;hard&quot; navigation (a full page reload). Authentication redirects are hard navigations, which means they don’t preserve state. There’s no way to access the navigation history via standard browser APIs after such a redirection.<!-- --> </p>
<style data-emotion="css y7u092">.css-y7u092{--Icon-fontSize:calc(1em * var(--joy-lineHeight-md, 1.5));margin:var(--Typography-margin, 0px);display:block;font-family:var(--joy-fontFamily-display, "Inter", var(--joy-fontFamily-fallback, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"));font-weight:var(--joy-fontWeight-lg, 600);font-size:var(--Typography-fontSize, var(--joy-fontSize-xl, 1.25rem));line-height:var(--joy-lineHeight-md, 1.5);letter-spacing:-0.025em;color:var(--joy-palette-text-primary, var(--joy-palette-neutral-800, #171A1C));}</style><h4 class="MuiTypography-root MuiTypography-h4 css-y7u092"> <!-- -->Giscus Page-Discussion mapping<!-- --> </h4>
<p class="MuiTypography-root MuiTypography-body-md css-9ynou7">Everything was going well, until I hit one final issue related to <code>HashRouter</code>.<!-- --> </p>
<p class="MuiTypography-root MuiTypography-body-md css-9ynou7"><span style="max-width:calc(100vw - 48px);display:flex;align-items:center;justify-content:center"><img src="//images.ctfassets.net/ud4ywsjg17po/4O7DC7i5VykG3Q5cFQgNvD/5b4fb35c453f16dd1034c8557c5af657/image.png" loading="lazy" alt="giscus page-dicussion mapping options" style="max-width:90%;border-radius:10px"/></span> </p>
<p class="MuiTypography-root MuiTypography-body-md css-9ynou7">As you can see, I chose the default option: &#x27;Discussion title contains page pathname&#x27;. This means that whenever someone comments on a blog post, the comment is linked to a discussion with a title matching the pathname of the url where the Giscus comment section is embedded.<!-- --> </p>
<p class="MuiTypography-root MuiTypography-body-md css-9ynou7">Oof.<!-- --> </p>
<p class="MuiTypography-root MuiTypography-body-md css-9ynou7">So, Giscus comment section authentication is working. But comment POST request gave a bad request exception.<!-- --> </p>
<p class="MuiTypography-root MuiTypography-body-md css-9ynou7">Any guesses why?<!-- --> </p>
<p class="MuiTypography-root MuiTypography-body-md css-9ynou7">Anything after <code>#</code> is treated as an &#x27;anchor&#x27;, not a path name. And that was it.<!-- --> </p>
<p class="MuiTypography-root MuiTypography-body-md css-9ynou7">So was my time to choose another option from that list.<!-- --> </p>
<p class="MuiTypography-root MuiTypography-body-md css-9ynou7">Now that I think about it, using the full url would’ve been a better choice. At the time, I dismissed this option because it would have caused redundancy by including the origin part of the url in every discussion title. As for the next option, I didn&#x27;t want my Blog page tab to be displaying an alphanumeric jibber-jabber of an ID generated by Contentful, so that eliminated the title content option for me really quick too. At the end, I opted for using <code>meta</code> tags, but that came at the cost of side effects.<!-- --> </p>
<p class="MuiTypography-root MuiTypography-body-md css-9ynou7">I also realized, in hindsight, that I had given my blog page component a rather unhelpful name—<code>Calc</code>. Not the most descriptive, and I really hope my recruiter never stumbles upon it.<!-- --> </p>
<div class="MuiBox-root css-pyvwho"><div class="MuiCard-root MuiCard-vertical MuiCard-variantOutlined MuiCard-colorNeutral MuiCard-sizeMd css-1po12w2"><code class="language-language-ts" style="white-space:pre" data-first-child="" data-last-child=""><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">1</span><span>const Calc = () =&gt; {
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">2</span>    // ...
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">3</span><span>    let { id } = useParams()</span><span style="color:#888888">;</span><span>
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">4</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">5</span>    useEffect(() =&gt; {
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">6</span><span>        const meta = document.createElement(</span><span style="color:#BC6060">&#x27;meta</span><span>&#x27;)
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">7</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">8</span><span>        if (</span><span style="font-weight:bold">id</span><span>) {
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">9</span><span>            meta.setAttribute(</span><span style="color:#BC6060">&#x27;property</span><span>&#x27;, </span><span style="color:#BC6060">&#x27;og:title</span><span>&#x27;)
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">10</span><span>            meta.setAttribute(</span><span style="color:#BC6060">&#x27;content</span><span>&#x27;, id)
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">11</span><span>            document.head.appendChild(</span><span style="font-weight:bold">meta</span><span>)
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">12</span>        }
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">13</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">14</span>        return () =&gt; {
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">15</span><span>            document.head.removeChild(</span><span style="font-weight:bold">meta</span><span>)
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">16</span>        }
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">17</span><span>    }, [</span><span style="font-weight:bold">id</span><span>])
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">18</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">19</span>    // ...
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">20</span>}
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">21</span></code></div></div>
<p class="MuiTypography-root MuiTypography-body-md css-9ynou7">This was my somewhat hacky solution. And after a day of debugging, I could really not think any better.<!-- --> </p>
<p class="MuiTypography-root MuiTypography-body-md css-9ynou7">If you have any cool suggestions to fix any of the bugs I have mentioned so far, feel free to share!<!-- --> </p>
<h3 class="MuiTypography-root MuiTypography-h3 css-a7rq8x"> <!-- -->Footnote links in Markdown<!-- --> </h3>
<p class="MuiTypography-root MuiTypography-body-md css-9ynou7">Congratulations for making it this far! This is the last bug I needed to fix before my website was finally complete (except for code refactoring, particularly making it typesafe for easier maintenance in the future).<!-- --> </p>
<p class="MuiTypography-root MuiTypography-body-md css-9ynou7">This problem was somewhat similar to the Giscus authentication callback url issue, so I’ll do my best to keep it short.<!-- --> </p>
<h4 class="MuiTypography-root MuiTypography-h4 css-y7u092"> <!-- -->Background<!-- --> </h4>
<p class="MuiTypography-root MuiTypography-body-md css-9ynou7">I’m using the <a href="https://github.com/remarkjs/react-markdown" class="MuiLink-root MuiLink-colorPrimary MuiLink-inherit MuiLink-underlineHover css-1fssitu"> <!-- -->react-markdown<!-- --> </a> library to render markdown, along with the <a href="https://github.com/remarkjs/remark-gfm" class="MuiLink-root MuiLink-colorPrimary MuiLink-inherit MuiLink-underlineHover css-1fssitu"> <!-- -->remark-gfm<!-- --> </a> plugin for supporting autolink literals, footnotes, strikethroughs, tables, and task lists.<!-- --> </p>
<p class="MuiTypography-root MuiTypography-body-md css-9ynou7">The issue arose with footnotes.<!-- --> </p>
<p class="MuiTypography-root MuiTypography-body-md css-9ynou7">Here’s a simple markdown example for adding footnotes to a blog:<!-- --> </p>
<div class="MuiBox-root css-pyvwho"><div class="MuiCard-root MuiCard-vertical MuiCard-variantOutlined MuiCard-colorNeutral MuiCard-sizeMd css-1po12w2"><code class="language-language-md" style="white-space:pre" data-first-child="" data-last-child=""><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none">1</span><span>A note[^</span><span style="color:#880000">1</span><span>]
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none">2</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none">3</span><span>[^</span><span style="color:#880000">1</span><span>]: Big note.
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none">4</span></code></div></div>
<p class="MuiTypography-root MuiTypography-body-md css-9ynou7">This example comes directly from the <code>rehype-gfm README.md</code> by the way.<!-- --> </p>
<p class="MuiTypography-root MuiTypography-body-md css-9ynou7">The corresponding HTML output looks like this:<!-- --> </p>
<div class="MuiBox-root css-pyvwho"><div class="MuiCard-root MuiCard-vertical MuiCard-variantOutlined MuiCard-colorNeutral MuiCard-sizeMd css-1po12w2"><code class="language-language-html" style="white-space:pre" data-first-child="" data-last-child=""><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">1</span><span>&lt;p&gt;A</span><span style="color:#397300"> note
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">2</span><span style="color:#397300"></span><span>    &lt;sup&gt;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">3</span>        &lt;a
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">4</span><span>          </span><span style="font-weight:bold">href</span><span>=</span><span style="color:#880000">&quot;#user-content-fn-1&quot;</span><span>
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">5</span><span>          </span><span style="font-weight:bold">id</span><span>=</span><span style="color:#880000">&quot;user-content-fnref-1&quot;</span><span>
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">6</span>          data-footnote-ref
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">7</span><span>          </span><span style="font-weight:bold">aria-describedby</span><span>=</span><span style="color:#880000">&quot;footnote-label&quot;</span><span>
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">8</span>          &gt;
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">9</span>               1
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">10</span>          &lt;/a&gt;
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">11</span>    &lt;/sup&gt;
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">12</span>&lt;/p&gt;
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">13</span></code></div></div>
<p class="MuiTypography-root MuiTypography-body-md css-9ynou7">And here’s the <code>footnotes</code> section generated at the end of the blog:<!-- --> </p>
<div class="MuiBox-root css-pyvwho"><div class="MuiCard-root MuiCard-vertical MuiCard-variantOutlined MuiCard-colorNeutral MuiCard-sizeMd css-1po12w2"><code class="language-language-html" style="white-space:pre" data-first-child="" data-last-child=""><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">1</span><span>&lt;section data-footnotes </span><span style="font-weight:bold">class</span><span>=&quot;</span><span style="color:#BC6060">footnotes</span><span>&quot;&gt;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">2</span><span>    &lt;</span><span style="color:#BC6060">h2</span><span> </span><span style="color:#BC6060">class</span><span>=&quot;</span><span style="color:#BC6060">sr</span><span>-</span><span style="color:#BC6060">only</span><span>&quot; </span><span style="color:#BC6060">id</span><span>=&quot;</span><span style="color:#BC6060">footnote</span><span>-</span><span style="color:#BC6060">label</span><span>&quot;&gt;</span><span style="color:#BC6060">Footnotes</span><span>&lt;/</span><span style="color:#BC6060">h2</span><span>&gt;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">3</span><span>    &lt;</span><span style="color:#BC6060">ol</span><span>&gt;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">4</span><span>        &lt;</span><span style="color:#BC6060">li</span><span> </span><span style="color:#BC6060">id</span><span>=&quot;</span><span style="color:#BC6060">user</span><span>-</span><span style="color:#BC6060">content</span><span>-</span><span style="color:#BC6060">fn</span><span>-</span><span style="color:#BC6060">1</span><span>&quot;&gt;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">5</span><span>            &lt;</span><span style="color:#BC6060">p</span><span>&gt;</span><span style="color:#BC6060">Big</span><span> </span><span style="color:#BC6060">note</span><span>.
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">6</span><span>                &lt;</span><span style="color:#BC6060">a</span><span>
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">7</span><span>                    </span><span style="color:#BC6060">href</span><span>=&quot;#</span><span style="color:#BC6060">user</span><span>-</span><span style="color:#BC6060">content</span><span>-</span><span style="color:#BC6060">fnref</span><span>-</span><span style="color:#BC6060">1</span><span>&quot;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">8</span><span>                    </span><span style="color:#BC6060">data</span><span>-</span><span style="color:#BC6060">footnote</span><span>-</span><span style="color:#BC6060">backref</span><span>
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">9</span><span>                    </span><span style="color:#BC6060">class</span><span>=&quot;</span><span style="color:#BC6060">data</span><span>-</span><span style="color:#BC6060">footnote</span><span>-</span><span style="color:#BC6060">backref</span><span>&quot;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">10</span><span>                    </span><span style="color:#BC6060">aria</span><span>-</span><span style="color:#BC6060">label</span><span>=&quot;</span><span style="color:#BC6060">Back</span><span> </span><span style="color:#BC6060">to</span><span> </span><span style="color:#BC6060">content</span><span>&quot;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">11</span>                &gt;
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">12</span>                    ↩
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">13</span><span>                &lt;/</span><span style="color:#BC6060">a</span><span>&gt;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">14</span><span>            &lt;/</span><span style="color:#BC6060">p</span><span>&gt;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">15</span><span>        &lt;/</span><span style="color:#BC6060">li</span><span>&gt;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">16</span><span>    &lt;/</span><span style="color:#BC6060">ol</span><span>&gt;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">17</span><span>&lt;/</span><span style="color:#BC6060">section</span><span>&gt;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">18</span></code></div></div>
<h4 class="MuiTypography-root MuiTypography-h4 css-y7u092"> <!-- -->The Problem<!-- --> </h4>
<p class="MuiTypography-root MuiTypography-body-md css-9ynou7">The issue was with the footnote links. URLs can have only one anchor text. So clicking on these links would replace the entire hash route in the URL with the <code>href</code> of the clicked element (e.g., <code>#user-content-fn-1</code>). This caused the same error as the giscus authentication url i.e., &#x27;no routes matched&#x27;.<!-- --> </p>
<h4 class="MuiTypography-root MuiTypography-h4 css-y7u092"> <!-- -->The Solution<!-- --> </h4>
<p class="MuiTypography-root MuiTypography-body-md css-9ynou7">I solved it by using using side effects again. I am gonna just explain it in short and not overwhelm you with the code.<!-- --> </p>
<ul marker="decimal" class="MuiList-root MuiList-vertical MuiList-variantPlain MuiList-colorNeutral MuiList-sizeMd css-1fmogwr"> <!-- -->
<li class="MuiListItem-root MuiListItem-colorNeutral MuiListItem-variantPlain css-3q61x9"><span data-first-child=""> <strong>Selecting Footnote Anchors:</strong> I used the <style data-emotion="css 1n3vd54">.css-1n3vd54{--Icon-fontSize:1.25em;--Icon-color:currentColor;--CircularProgress-size:1.25em;--CircularProgress-thickness:3px;font-family:var(--joy-fontFamily-body, "Inter", var(--joy-fontFamily-fallback, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"));font-size:var(--joy-fontSize-md, 1rem);line-height:var(--joy-lineHeight-md, 1.5);color:var(--variant-plainColor, rgba(var(--joy-palette-primary-mainChannel, 11 107 203) / 1));-webkit-text-decoration:none;text-decoration:none;text-decoration-thickness:max(0.08em, 1px);text-underline-offset:0.15em;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-tap-highlight-color:transparent;background-color:transparent;outline:0;border:0;margin:0;border-radius:var(--joy-radius-xs, 2px);padding:0;cursor:pointer;text-decoration-color:var(--variant-outlinedBorder, rgba(var(--joy-palette-primary-mainChannel, 11 107 203) / var(--Link-underlineOpacity, 0.72)));-moz-appearance:none;-webkit-appearance:none;position:relative;}@media (hover: hover){.css-1n3vd54:hover{text-decoration-line:underline;}}.css-1n3vd54.Mui-disabled{pointer-events:none;color:var(--variant-plainDisabledColor, rgba(var(--joy-palette-primary-mainChannel, 11 107 203) / 0.6));}.css-1n3vd54::-moz-focus-inner{border-style:none;}.css-1n3vd54.Mui-focusVisible,.css-1n3vd54:focus-visible{outline-offset:var(--focus-outline-offset, var(--joy-focus-thickness, 2px));outline:var(--joy-focus-thickness, 2px) solid var(--joy-palette-focusVisible, #0B6BCB);}</style><a href="https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelector" class="MuiLink-root MuiLink-colorPrimary MuiLink-body-md MuiLink-underlineHover css-1n3vd54"> <!-- -->Web API’s <code>querySelector</code> </a> to select all relevant anchor elements.<!-- --> </span></li>
<li class="MuiListItem-root MuiListItem-colorNeutral MuiListItem-variantPlain css-3q61x9"><span data-first-child=""> <strong>Disabling Anchor String Replacement:</strong> I removed the href attributes from the footnote links to prevent the hash route from being altered.<!-- --> </span></li>
<li class="MuiListItem-root MuiListItem-colorNeutral MuiListItem-variantPlain css-3q61x9"><span data-first-child=""> <strong>Custom Scrolling Logic:</strong> I registered event listeners on these anchors and used the <a href="https://www.npmjs.com/package/react-scroll" class="MuiLink-root MuiLink-colorPrimary MuiLink-body-md MuiLink-underlineHover css-1n3vd54"> <!-- -->react-scroll<!-- --> </a> library to programmatically scroll to the target IDs when clicked.<!-- --> </span></li>
<li class="MuiListItem-root MuiListItem-colorNeutral MuiListItem-variantPlain css-3q61x9"><span data-first-child=""> <strong>Cleanup:</strong> Of course, I made sure to clean up the event listeners to avoid memory leaks.<!-- --> </span></li>
<!-- --> </ul>
<p class="MuiTypography-root MuiTypography-body-md css-9ynou7">Actually never mind. Here&#x27;s the code for just in case you are curious lol.<!-- --> </p>
<div class="MuiBox-root css-pyvwho"><div class="MuiCard-root MuiCard-vertical MuiCard-variantOutlined MuiCard-colorNeutral MuiCard-sizeMd css-1po12w2"><code class="language-language-ts" style="white-space:pre" data-first-child="" data-last-child=""><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">1</span><span>const useFootnotes = (</span><span style="font-weight:bold">loading:</span><span> boolean, blogId: string | undefined) =&gt; {
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">2</span>    useEffect(() =&gt; {
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">3</span><span>        const footnote = document.querySelector(</span><span style="color:#BC6060">&#x27;section.footnotes</span><span>&#x27;)</span><span style="color:#888888">;</span><span>
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">4</span><span>        const as_ = footnote?.querySelectorAll(</span><span style="color:#BC6060">&#x27;span.data-footnote-backref</span><span> &gt; a&#x27;)</span><span style="color:#888888">;</span><span>
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">5</span><span>        const refs = document.querySelectorAll(&#x27;[</span><span style="font-weight:bold">data-footnote-ref</span><span>] &gt; a&#x27;)</span><span style="color:#888888">;</span><span>
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">6</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">7</span><span>        const cb = (</span><span style="font-weight:bold">id:</span><span> string) =&gt; {
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">8</span><span>            return () =&gt; scroller.scrollTo(</span><span style="color:#BC6060">&#x27;user-content-</span><span>&#x27; + id.replace(&#x27;#&#x27;, &#x27;&#x27;), {
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">9</span><span>                duration: </span><span style="color:#880000">1000</span><span>,
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">10</span>                smooth: true,
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">11</span><span>            })</span><span style="color:#888888">;</span><span>
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">12</span><span>        }</span><span style="color:#888888">;</span><span>
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">13</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">14</span><span>        if (</span><span style="font-weight:bold">!loading</span><span> &amp;&amp; as_ &amp;&amp; refs) {
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">15</span><span>            as_.forEach((</span><span style="font-weight:bold">backLink</span><span>) =&gt; {
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">16</span><span>                const backId = backLink.getAttribute(</span><span style="color:#BC6060">&#x27;href</span><span>&#x27;)</span><span style="color:#888888">;</span><span>
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">17</span><span>                if (</span><span style="font-weight:bold">backId</span><span>) {
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">18</span><span>                    backLink.removeAttribute(</span><span style="color:#BC6060">&#x27;href</span><span>&#x27;)</span><span style="color:#888888">;</span><span>
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">19</span><span>                    backLink.addEventListener(</span><span style="color:#BC6060">&#x27;click</span><span>&#x27;, cb(</span><span style="font-weight:bold">backId</span><span>))</span><span style="color:#888888">;</span><span>
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">20</span>                }
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">21</span><span>            })</span><span style="color:#888888">;</span><span>
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">22</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">23</span><span>            refs.forEach((</span><span style="font-weight:bold">refLink</span><span>) =&gt; {
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">24</span><span>                const refId = refLink.getAttribute(</span><span style="color:#BC6060">&#x27;href</span><span>&#x27;)</span><span style="color:#888888">;</span><span>
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">25</span><span>                if (</span><span style="font-weight:bold">refId</span><span>) {
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">26</span><span>                    refLink.removeAttribute(</span><span style="color:#BC6060">&#x27;href</span><span>&#x27;)</span><span style="color:#888888">;</span><span>
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">27</span><span>                    refLink.addEventListener(</span><span style="color:#BC6060">&#x27;click</span><span>&#x27;, cb(</span><span style="font-weight:bold">refId</span><span>))</span><span style="color:#888888">;</span><span>
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">28</span>                }
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">29</span><span>            })</span><span style="color:#888888">;</span><span>
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">30</span>        }
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">31</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">32</span>        return () =&gt; {
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">33</span><span>            if (</span><span style="font-weight:bold">as_</span><span> &amp;&amp; refs) {
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">34</span><span>                as_.forEach((</span><span style="font-weight:bold">backLink</span><span>) =&gt; {
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">35</span><span>                    const backId = backLink.getAttribute(</span><span style="color:#BC6060">&#x27;href</span><span>&#x27;)</span><span style="color:#888888">;</span><span>
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">36</span><span>                    if (</span><span style="font-weight:bold">backId</span><span>) {
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">37</span><span>                        backLink.removeEventListener(</span><span style="color:#BC6060">&#x27;click</span><span>&#x27;, cb(</span><span style="font-weight:bold">backId</span><span>))</span><span style="color:#888888">;</span><span>
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">38</span>                    }
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">39</span><span>                })</span><span style="color:#888888">;</span><span>
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">40</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">41</span><span>                refs.forEach((</span><span style="font-weight:bold">refLink</span><span>) =&gt; {
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">42</span><span>                    const refId = refLink.getAttribute(</span><span style="color:#BC6060">&#x27;href</span><span>&#x27;)</span><span style="color:#888888">;</span><span>
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">43</span><span>                    if (</span><span style="font-weight:bold">refId</span><span>) {
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">44</span><span>                        refLink.removeEventListener(</span><span style="color:#BC6060">&#x27;click</span><span>&#x27;, cb(</span><span style="font-weight:bold">refId</span><span>))</span><span style="color:#888888">;</span><span>
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">45</span>                    }
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">46</span><span>                })</span><span style="color:#888888">;</span><span>
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">47</span>            }
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">48</span><span>        }</span><span style="color:#888888">;</span><span>
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">49</span><span>    }, [</span><span style="font-weight:bold">loading</span><span>, blogId])</span><span style="color:#888888">;</span><span>
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">50</span>}
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">51</span></code></div></div>
<h3 class="MuiTypography-root MuiTypography-h3 css-a7rq8x"> <!-- -->Conclusion<!-- --> </h3>
<p class="MuiTypography-root MuiTypography-body-md css-9ynou7"><em>Sigh</em> </p>
<p class="MuiTypography-root MuiTypography-body-md css-9ynou7">Finally, all routing bugs are fixed. Well, atleast to far as my knowledge goes.<!-- --> </p>
<p class="MuiTypography-root MuiTypography-body-md css-9ynou7">Overall, debugging these routing issues was a fun and rewarding experience, and I learned a lot along the way. It’s always interesting to dive deep into problems like this, as they challenge you to think creatively and explore new solutions. Hopefully, my experience has given you some useful insights and perhaps even saved you from a few headaches down the road!<!-- --> </p>
<p class="MuiTypography-root MuiTypography-body-md css-9ynou7">This was pretty long blog- longer than anticipated to say the least. Thanks for following along, and I hope you picked up something new. If you have any thoughts or solutions, feel free to share. Until next time, happy coding!<!-- --> </p>
<section data-footnotes="" class="footnotes"><h3 class="MuiTypography-root MuiTypography-h3 css-a7rq8x"> <!-- -->Footnotes<!-- --> </h3>
<ul marker="decimal" class="MuiList-root MuiList-vertical MuiList-variantPlain MuiList-colorNeutral MuiList-sizeMd css-1fmogwr"> <!-- -->
<li class="MuiListItem-root MuiListItem-colorNeutral MuiListItem-variantPlain css-3q61x9"><span id="user-content-fn-1" data-first-child=""> <!-- -->
<p class="MuiTypography-root MuiTypography-body-md css-9ynou7">Seram, Nitesh (Jun 3, 2024). <a href="https://www.greatfrontend.com/blog/code-splitting-and-lazy-loading-in-react" class="MuiLink-root MuiLink-colorPrimary MuiLink-inherit MuiLink-underlineHover css-1fssitu"> <!-- -->Implementing Code Splitting and Lazy Loading in React<!-- --> </a> <a href="#user-content-fnref-1" class="MuiLink-root MuiLink-colorPrimary MuiLink-inherit MuiLink-underlineHover css-1fssitu"> <!-- -->↩<!-- --> </a> </p>
<!-- --> </span></li>
<!-- --> </ul>
</section></div></div></div></div><style data-emotion="css 1ke2odp">.css-1ke2odp{width:100%;margin-left:auto;box-sizing:border-box;margin-right:auto;display:block;padding-left:16px;padding-right:16px;position:relative;min-width:100vw;min-height:auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:#DDE7EE;}@media (min-width:600px){.css-1ke2odp{padding-left:24px;padding-right:24px;}}@media (min-width:1200px){.css-1ke2odp{max-width:1200px;}}.css-1ke2odp>div{width:100%;}</style><div class="MuiContainer-root MuiContainer-maxWidthLg css-1ke2odp"><div style="flex:1;display:flex;align-items:center;justify-content:center"><style data-emotion="css 1nvqui6">.css-1nvqui6{padding-top:80px;padding-bottom:80px;-webkit-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;max-width:800px;}</style><div class="MuiBox-root css-1nvqui6"><style data-emotion="css av7p0t">.css-av7p0t{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;}@media (max-width:799.95px){.css-av7p0t{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;row-gap:16px;}}</style><div class="MuiStack-root css-av7p0t"><style data-emotion="css a6a6ec">.css-a6a6ec{--Icon-fontSize:calc(1em * var(--joy-lineHeight-md, 1.5));margin:var(--Typography-margin, 0px);display:block;font-family:var(--joy-fontFamily-body, "Inter", var(--joy-fontFamily-fallback, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"));font-size:var(--Typography-fontSize, var(--joy-fontSize-md, 1rem));line-height:var(--joy-lineHeight-md, 1.5);color:var(--joy-palette-text-secondary, var(--joy-palette-neutral-700, #32383E));}@media (max-width:799.95px){.css-a6a6ec{-webkit-order:2;-ms-flex-order:2;order:2;}}</style><p class="MuiTypography-root MuiTypography-body-md css-a6a6ec">Copyright © 2026 Karunika</p><style data-emotion="css vjgcyy">.css-vjgcyy{--Icon-margin:initial;--Icon-color:currentColor;--Icon-fontSize:var(--joy-fontSize-xl2, 1.5rem);--CircularProgress-size:28px;--CircularProgress-thickness:4px;--Button-gap:0.75rem;min-height:var(--Button-minHeight, 2.75rem);font-size:var(--joy-fontSize-md, 1rem);padding-block:var(--Button-paddingBlock, 0.5rem);padding-inline:1.5rem;-webkit-tap-highlight-color:transparent;box-sizing:border-box;border-radius:var(--Button-radius, var(--joy-radius-sm, 6px));margin:var(--Button-margin);border:none;background-color:transparent;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;position:relative;-webkit-text-decoration:none;text-decoration:none;font-family:var(--joy-fontFamily-body, "Inter", var(--joy-fontFamily-fallback, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"));font-weight:var(--joy-fontWeight-lg, 600);line-height:var(--joy-lineHeight-md, 1.5);--variant-borderWidth:1px;color:var(--variant-outlinedColor, var(--joy-palette-primary-outlinedColor, var(--joy-palette-primary-500, #0B6BCB)));border:var(--variant-borderWidth) solid;border-color:var(--variant-outlinedBorder, var(--joy-palette-primary-outlinedBorder, var(--joy-palette-primary-300, #97C3F0)));border-radius:20px;}.css-vjgcyy.Mui-focusVisible,.css-vjgcyy:focus-visible{outline-offset:var(--focus-outline-offset, var(--joy-focus-thickness, 2px));outline:var(--joy-focus-thickness, 2px) solid var(--joy-palette-focusVisible, #0B6BCB);}@media (hover: hover){.css-vjgcyy:hover{background-color:var(--variant-outlinedHoverBg, var(--joy-palette-primary-outlinedHoverBg, var(--joy-palette-primary-100, #E3EFFB)));}}.css-vjgcyy:active,.css-vjgcyy[aria-pressed="true"]{background-color:var(--variant-outlinedActiveBg, var(--joy-palette-primary-outlinedActiveBg, var(--joy-palette-primary-200, #C7DFF7)));}.css-vjgcyy.Mui-disabled{pointer-events:none;cursor:default;--Icon-color:currentColor;color:var(--variant-outlinedDisabledColor, var(--joy-palette-primary-outlinedDisabledColor, var(--joy-palette-neutral-400, #9FA6AD)));border-color:var(--variant-outlinedDisabledBorder, var(--joy-palette-primary-outlinedDisabledBorder, var(--joy-palette-neutral-200, #DDE7EE)));}.css-vjgcyy.MuiButton-loading{color:transparent;}@media (max-width:799.95px){.css-vjgcyy{-webkit-order:0;-ms-flex-order:0;order:0;}}</style><button class="MuiButton-root MuiButton-variantOutlined MuiButton-colorPrimary MuiButton-sizeLg css-vjgcyy"><style data-emotion="css q7mezt">.css-q7mezt{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:1em;height:1em;display:inline-block;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;-webkit-transition:fill 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:fill 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;fill:currentColor;font-size:1.5rem;}</style><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-q7mezt" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="ExpandLessOutlinedIcon"><path d="m12 8-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"></path></svg></button><style data-emotion="css vp9yj4">.css-vp9yj4{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;}.css-vp9yj4>:not(style):not(style){margin:0;}.css-vp9yj4>:not(style)~:not(style){margin-left:8px;}@media (max-width:799.95px){.css-vp9yj4{-webkit-order:1;-ms-flex-order:1;order:1;}}.css-vp9yj4>*{opacity:0.6;-webkit-transition:all 0.4s ease;transition:all 0.4s ease;}.css-vp9yj4>*:hover{opacity:2;}</style><div class="MuiStack-root css-vp9yj4"><a href="https://github.com/tripakar-fadv" class="social-icon" target="_blank" style="display:inline-block;width:50px;height:50px;position:relative;overflow:hidden;vertical-align:middle" aria-label="github"><span class="social-container" style="position:absolute;top:0;left:0;width:100%;height:100%"><svg role="img" aria-label="github social icon" class="social-svg" viewBox="0 0 64 64" style="position:absolute;top:0;left:0;width:100%;height:100%;fill-rule:evenodd;border-radius:50%"><g class="social-svg-icon" style="transition:fill 170ms ease-in-out;fill:white"><path d="M0,0H64V64H0ZM0 0v64h64V0zm37.1 47.2c-.8.2-1.1-.3-1.1-.8V42c0-1.5-.5-2.5-1.1-3 3.6-.4 7.3-1.7 7.3-7.9 0-1.7-.6-3.2-1.6-4.3.2-.4.7-2-.2-4.2 0 0-1.3-.4-4.4 1.6-1.3-.4-2.6-.5-4-.5s-2.7.2-4 .5c-3.1-2.1-4.4-1.6-4.4-1.6-.9 2.2-.3 3.8-.2 4.2-1 1.1-1.6 2.5-1.6 4.3 0 6.1 3.7 7.5 7.3 7.9-.5.4-.9 1.1-1 2.1-.9.4-3.2 1.1-4.7-1.3 0 0-.8-1.5-2.5-1.6 0 0-1.6 0-.1 1 0 0 1 .5 1.8 2.3 0 0 .9 3.1 5.4 2.1v2.7c0 .4-.3.9-1.1.8-6.3-2-10.9-8-10.9-15.1 0-8.8 7.2-16 16-16s16 7.2 16 16c0 7.1-4.6 13.1-10.9 15.2"></path></g><g class="social-svg-mask" style="transition:fill 170ms ease-in-out;fill:#24292e"><path d="M0 0v64h64V0zm37.1 47.2c-.8.2-1.1-.3-1.1-.8V42c0-1.5-.5-2.5-1.1-3 3.6-.4 7.3-1.7 7.3-7.9 0-1.7-.6-3.2-1.6-4.3.2-.4.7-2-.2-4.2 0 0-1.3-.4-4.4 1.6-1.3-.4-2.6-.5-4-.5s-2.7.2-4 .5c-3.1-2.1-4.4-1.6-4.4-1.6-.9 2.2-.3 3.8-.2 4.2-1 1.1-1.6 2.5-1.6 4.3 0 6.1 3.7 7.5 7.3 7.9-.5.4-.9 1.1-1 2.1-.9.4-3.2 1.1-4.7-1.3 0 0-.8-1.5-2.5-1.6 0 0-1.6 0-.1 1 0 0 1 .5 1.8 2.3 0 0 .9 3.1 5.4 2.1v2.7c0 .4-.3.9-1.1.8-6.3-2-10.9-8-10.9-15.1 0-8.8 7.2-16 16-16s16 7.2 16 16c0 7.1-4.6 13.1-10.9 15.2"></path></g></svg></span></a><a href="https://linkedin.com/in/karunika-t" class="social-icon" target="_blank" style="display:inline-block;width:50px;height:50px;position:relative;overflow:hidden;vertical-align:middle" aria-label="linkedin"><span class="social-container" style="position:absolute;top:0;left:0;width:100%;height:100%"><svg role="img" aria-label="linkedin social icon" class="social-svg" viewBox="0 0 64 64" style="position:absolute;top:0;left:0;width:100%;height:100%;fill-rule:evenodd;border-radius:50%"><g class="social-svg-icon" style="transition:fill 170ms ease-in-out;fill:white"><path d="M0,0H64V64H0ZM0 0v64h64V0zm25.8 44h-5.4V26.6h5.4zm-2.7-19.7c-1.7 0-3.1-1.4-3.1-3.1s1.4-3.1 3.1-3.1 3.1 1.4 3.1 3.1-1.4 3.1-3.1 3.1M46 44h-5.4v-8.4c0-2 0-4.6-2.8-4.6s-3.2 2.2-3.2 4.5V44h-5.4V26.6h5.2V29h.1c.7-1.4 2.5-2.8 5.1-2.8 5.5 0 6.5 3.6 6.5 8.3V44z"></path></g><g class="social-svg-mask" style="transition:fill 170ms ease-in-out;fill:#007fb1"><path d="M0 0v64h64V0zm25.8 44h-5.4V26.6h5.4zm-2.7-19.7c-1.7 0-3.1-1.4-3.1-3.1s1.4-3.1 3.1-3.1 3.1 1.4 3.1 3.1-1.4 3.1-3.1 3.1M46 44h-5.4v-8.4c0-2 0-4.6-2.8-4.6s-3.2 2.2-3.2 4.5V44h-5.4V26.6h5.2V29h.1c.7-1.4 2.5-2.8 5.1-2.8 5.5 0 6.5 3.6 6.5 8.3V44z"></path></g></svg></span></a><a href="https://codepen.io/karunika" class="social-icon" target="_blank" style="display:inline-block;width:50px;height:50px;position:relative;overflow:hidden;vertical-align:middle" aria-label="codepen"><span class="social-container" style="position:absolute;top:0;left:0;width:100%;height:100%"><svg role="img" aria-label="codepen social icon" class="social-svg" viewBox="0 0 64 64" style="position:absolute;top:0;left:0;width:100%;height:100%;fill-rule:evenodd;border-radius:50%"><g class="social-svg-icon" style="transition:fill 170ms ease-in-out;fill:white"><path d="M0,0H64V64H0ZM0 0v64h64V0zm32 48c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16m.5-25.7q-.45-.3-.9 0l-9.1 5.9c-.2.2-.4.4-.4.7v6.2c0 .3.1.6.4.7l9.1 5.9q.45.3.9 0l9.1-5.9c.2-.2.4-.4.4-.7v-6.2c0-.3-.1-.6-.4-.7zm.3 2.2 6.8 4.5-3 2-3.7-2.5v-4zm-1.6 0v4L27.4 31l-3-2zm-7.4 6.1 2.1 1.4-2.1 1.4zm7.4 8.9L24.4 35l3-2 3.7 2.5v4zM32 34l-3-2 3-2 3 2zm.8 5.5v-4l3.7-2.5 3 2zm7.4-6.1L38.1 32l2.1-1.4z"></path></g><g class="social-svg-mask" style="transition:fill 170ms ease-in-out;fill:#151515"><path d="M0 0v64h64V0zm32 48c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16m.5-25.7q-.45-.3-.9 0l-9.1 5.9c-.2.2-.4.4-.4.7v6.2c0 .3.1.6.4.7l9.1 5.9q.45.3.9 0l9.1-5.9c.2-.2.4-.4.4-.7v-6.2c0-.3-.1-.6-.4-.7zm.3 2.2 6.8 4.5-3 2-3.7-2.5v-4zm-1.6 0v4L27.4 31l-3-2zm-7.4 6.1 2.1 1.4-2.1 1.4zm7.4 8.9L24.4 35l3-2 3.7 2.5v4zM32 34l-3-2 3-2 3 2zm.8 5.5v-4l3.7-2.5 3 2zm7.4-6.1L38.1 32l2.1-1.4z"></path></g></svg></span></a><a href="https://instagram.com/karu_nika" class="social-icon" target="_blank" style="display:inline-block;width:50px;height:50px;position:relative;overflow:hidden;vertical-align:middle" aria-label="instagram"><span class="social-container" style="position:absolute;top:0;left:0;width:100%;height:100%"><svg role="img" aria-label="instagram social icon" class="social-svg" viewBox="0 0 64 64" style="position:absolute;top:0;left:0;width:100%;height:100%;fill-rule:evenodd;border-radius:50%"><g class="social-svg-icon" style="transition:fill 170ms ease-in-out;fill:white"><path d="M0,0H64V64H0ZM0 0v64h64V0zm39.88 25.89c.98 0 1.77-.79 1.77-1.77s-.79-1.77-1.77-1.77-1.77.79-1.77 1.77.79 1.77 1.77 1.77M32 24.42c-4.18 0-7.58 3.39-7.58 7.58s3.4 7.58 7.58 7.58 7.58-3.4 7.58-7.58-3.4-7.58-7.58-7.58m0 12.5c-2.72 0-4.92-2.2-4.92-4.92s2.2-4.92 4.92-4.92 4.92 2.2 4.92 4.92-2.2 4.92-4.92 4.92m0-17.02c3.94 0 4.41.02 5.96.09 1.45.06 2.23.3 2.75.51.69.27 1.18.58 1.7 1.1.51.52.83 1.01 1.1 1.7.2.52.44 1.3.51 2.74.07 1.56.09 2.02.09 5.97 0 3.94-.02 4.4-.09 5.96-.07 1.44-.31 2.22-.51 2.74-.27.69-.59 1.19-1.1 1.7-.52.52-1.01.84-1.7 1.1-.52.2-1.3.45-2.75.51-1.55.07-2.02.09-5.96.09s-4.41-.02-5.96-.09c-1.45-.06-2.23-.3-2.75-.51-.69-.27-1.18-.58-1.7-1.1-.51-.51-.83-1.01-1.1-1.7-.2-.52-.44-1.3-.51-2.74-.07-1.56-.09-2.02-.09-5.96 0-3.95.02-4.41.09-5.97.07-1.44.31-2.22.51-2.74.27-.69.59-1.18 1.1-1.7.52-.52 1.01-.84 1.7-1.1.52-.2 1.3-.45 2.75-.51 1.55-.08 2.02-.09 5.96-.09m0-2.66c-4.01 0-4.51.02-6.09.09-1.57.07-2.64.32-3.58.68-.97.38-1.79.89-2.61 1.71s-1.33 1.65-1.71 2.61c-.36.94-.61 2.01-.68 3.59-.07 1.57-.09 2.07-.09 6.08s.02 4.51.09 6.09c.07 1.57.32 2.64.68 3.58.38.98.89 1.8 1.71 2.62s1.65 1.32 2.61 1.7c.94.37 2.01.62 3.59.69 1.57.07 2.07.09 6.09.09 4.01 0 4.51-.02 6.08-.09s2.65-.32 3.59-.69c.97-.37 1.79-.88 2.61-1.7s1.33-1.65 1.71-2.62c.36-.93.61-2.01.68-3.58.07-1.58.09-2.08.09-6.09s-.02-4.51-.09-6.09c-.07-1.57-.32-2.64-.68-3.58-.38-.98-.89-1.8-1.71-2.62a7.3 7.3 0 0 0-2.61-1.7c-.94-.37-2.01-.62-3.59-.69-1.58-.06-2.08-.08-6.09-.08"></path></g><g class="social-svg-mask" style="transition:fill 170ms ease-in-out;fill:#e94475"><path d="M0 0v64h64V0zm39.88 25.89c.98 0 1.77-.79 1.77-1.77s-.79-1.77-1.77-1.77-1.77.79-1.77 1.77.79 1.77 1.77 1.77M32 24.42c-4.18 0-7.58 3.39-7.58 7.58s3.4 7.58 7.58 7.58 7.58-3.4 7.58-7.58-3.4-7.58-7.58-7.58m0 12.5c-2.72 0-4.92-2.2-4.92-4.92s2.2-4.92 4.92-4.92 4.92 2.2 4.92 4.92-2.2 4.92-4.92 4.92m0-17.02c3.94 0 4.41.02 5.96.09 1.45.06 2.23.3 2.75.51.69.27 1.18.58 1.7 1.1.51.52.83 1.01 1.1 1.7.2.52.44 1.3.51 2.74.07 1.56.09 2.02.09 5.97 0 3.94-.02 4.4-.09 5.96-.07 1.44-.31 2.22-.51 2.74-.27.69-.59 1.19-1.1 1.7-.52.52-1.01.84-1.7 1.1-.52.2-1.3.45-2.75.51-1.55.07-2.02.09-5.96.09s-4.41-.02-5.96-.09c-1.45-.06-2.23-.3-2.75-.51-.69-.27-1.18-.58-1.7-1.1-.51-.51-.83-1.01-1.1-1.7-.2-.52-.44-1.3-.51-2.74-.07-1.56-.09-2.02-.09-5.96 0-3.95.02-4.41.09-5.97.07-1.44.31-2.22.51-2.74.27-.69.59-1.18 1.1-1.7.52-.52 1.01-.84 1.7-1.1.52-.2 1.3-.45 2.75-.51 1.55-.08 2.02-.09 5.96-.09m0-2.66c-4.01 0-4.51.02-6.09.09-1.57.07-2.64.32-3.58.68-.97.38-1.79.89-2.61 1.71s-1.33 1.65-1.71 2.61c-.36.94-.61 2.01-.68 3.59-.07 1.57-.09 2.07-.09 6.08s.02 4.51.09 6.09c.07 1.57.32 2.64.68 3.58.38.98.89 1.8 1.71 2.62s1.65 1.32 2.61 1.7c.94.37 2.01.62 3.59.69 1.57.07 2.07.09 6.09.09 4.01 0 4.51-.02 6.08-.09s2.65-.32 3.59-.69c.97-.37 1.79-.88 2.61-1.7s1.33-1.65 1.71-2.62c.36-.93.61-2.01.68-3.58.07-1.58.09-2.08.09-6.09s-.02-4.51-.09-6.09c-.07-1.57-.32-2.64-.68-3.58-.38-.98-.89-1.8-1.71-2.62a7.3 7.3 0 0 0-2.61-1.7c-.94-.37-2.01-.62-3.59-.69-1.58-.06-2.08-.08-6.09-.08"></path></g></svg></span></a><a href="https://discord.com/channels/@me/713431503610183760" class="social-icon" target="_blank" style="display:inline-block;width:50px;height:50px;position:relative;overflow:hidden;vertical-align:middle" aria-label="discord"><span class="social-container" style="position:absolute;top:0;left:0;width:100%;height:100%"><svg role="img" aria-label="discord social icon" class="social-svg" viewBox="0 0 64 64" style="position:absolute;top:0;left:0;width:100%;height:100%;fill-rule:evenodd;border-radius:50%"><g class="social-svg-icon" style="transition:fill 170ms ease-in-out;fill:white"><path d="M0,0H64V64H0ZM0 0v64h64V0zm36.903 18.5a29.6 29.6 0 0 1 7.374 2.269c4.045 5.914 6.055 12.585 5.313 20.283a29.6 29.6 0 0 1-9.05 4.537 21.7 21.7 0 0 1-1.936-3.12 19.3 19.3 0 0 0 3.055-1.46 11 11 0 0 1-.747-.562 21.25 21.25 0 0 1-18.082 0c-.242.186-.492.377-.748.562a19 19 0 0 0 3.05 1.457 22 22 0 0 1-1.937 3.123 29.7 29.7 0 0 1-9.043-4.54c-.633-6.638.632-13.37 5.299-20.275a29.8 29.8 0 0 1 7.38-2.274q.522.935.944 1.92a27.5 27.5 0 0 1 8.183 0q.422-.985.945-1.92m-10.97 18.467c-1.762 0-3.218-1.6-3.218-3.568s1.405-3.581 3.213-3.581c1.807 0 3.252 1.614 3.222 3.581-.031 1.968-1.42 3.568-3.216 3.568m11.875 0c-1.765 0-3.216-1.6-3.216-3.568s1.406-3.581 3.216-3.581 3.244 1.614 3.213 3.581c-.03 1.968-1.417 3.568-3.213 3.568"></path></g><g class="social-svg-mask" style="transition:fill 170ms ease-in-out;fill:#5865F2"><path d="M0 0v64h64V0zm36.903 18.5a29.6 29.6 0 0 1 7.374 2.269c4.045 5.914 6.055 12.585 5.313 20.283a29.6 29.6 0 0 1-9.05 4.537 21.7 21.7 0 0 1-1.936-3.12 19.3 19.3 0 0 0 3.055-1.46 11 11 0 0 1-.747-.562 21.25 21.25 0 0 1-18.082 0c-.242.186-.492.377-.748.562a19 19 0 0 0 3.05 1.457 22 22 0 0 1-1.937 3.123 29.7 29.7 0 0 1-9.043-4.54c-.633-6.638.632-13.37 5.299-20.275a29.8 29.8 0 0 1 7.38-2.274q.522.935.944 1.92a27.5 27.5 0 0 1 8.183 0q.422-.985.945-1.92m-10.97 18.467c-1.762 0-3.218-1.6-3.218-3.568s1.405-3.581 3.213-3.581c1.807 0 3.252 1.614 3.222 3.581-.031 1.968-1.42 3.568-3.216 3.568m11.875 0c-1.765 0-3.216-1.6-3.216-3.568s1.406-3.581 3.216-3.581 3.244 1.614 3.213 3.581c-.03 1.968-1.417 3.568-3.213 3.568"></path></g></svg></span></a></div></div></div></div></div><script src="/_next/static/chunks/webpack-fe88e8a7e773f4a1.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/css/5ee9d025bde9e25b.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"2:I[12846,[],\"\"]\n5:I[4707,[],\"\"]\n7:I[36423,[],\"\"]\n8:I[66563,[\"969\",\"static/chunks/969-f3f8651faff4ca7e.js\",\"257\",\"static/chunks/257-663f6bcd5f23763b.js\",\"859\",\"static/chunks/859-cfe6bb7e7a062921.js\",\"185\",\"static/chunks/app/layout-5da738e06da89403.js\"],\"default\",1]\na:I[61060,[],\"\"]\n6:[\"id\",\"3QgdcvaiDnPbgONGgGQupN\",\"d\"]\nb:[]\n"])</script><script>self.__next_f.push([1,"0:[\"$\",\"$L2\",null,{\"buildId\":\"pzGN_vthWPc89qp0ylaQE\",\"assetPrefix\":\"\",\"urlParts\":[\"\",\"blog\",\"3QgdcvaiDnPbgONGgGQupN\"],\"initialTree\":[\"\",{\"children\":[\"blog\",{\"children\":[[\"id\",\"3QgdcvaiDnPbgONGgGQupN\",\"d\"],{\"children\":[\"__PAGE__?{\\\"id\\\":\\\"3QgdcvaiDnPbgONGgGQupN\\\"}\",{}]}]}]},\"$undefined\",\"$undefined\",true],\"initialSeedData\":[\"\",{\"children\":[\"blog\",{\"children\":[[\"id\",\"3QgdcvaiDnPbgONGgGQupN\",\"d\"],{\"children\":[\"__PAGE__\",{},[[\"$L3\",\"$L4\",null],null],null]},[[null,[\"$\",\"$L5\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"blog\",\"children\",\"$6\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L7\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\"}]],null],null]},[null,[\"$\",\"$L5\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"blog\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L7\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\"}]],null]},[[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/5ee9d025bde9e25b.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}]],[\"$\",\"$L8\",null,{\"children\":[\"$\",\"$L5\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L7\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],\"notFoundStyles\":[]}],\"params\":{}}]],null],null],\"couldBeIntercepted\":false,\"initialHead\":[null,\"$L9\"],\"globalErrorComponent\":\"$a\",\"missingSlots\":\"$Wb\"}]\n"])</script><script>self.__next_f.push([1,"9:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"1\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"2\",{\"children\":\"This is what happens when you use react-router with Github Pages\"}],[\"$\",\"meta\",\"3\",{\"name\":\"keywords\",\"content\":\"gh-pages,react-router,hash routing,giscus,debugging\"}],[\"$\",\"meta\",\"4\",{\"property\":\"og:title\",\"content\":\"This is what happens when you use react-router with Github Pages\"}],[\"$\",\"meta\",\"5\",{\"property\":\"og:description\",\"content\":\"gh-pages, react-router, hash routing, giscus, debugging\"}],[\"$\",\"meta\",\"6\",{\"property\":\"og:locale\",\"content\":\"en_US\"}],[\"$\",\"meta\",\"7\",{\"property\":\"og:image\",\"content\":\"https://images.ctfassets.net/ud4ywsjg17po/7w3yMYYkgPRlqXiumkqwiI/a1377849f259c3d95d33b0eee428c2c5/image.png\"}],[\"$\",\"meta\",\"8\",{\"name\":\"twitter:card\",\"content\":\"summary_large_image\"}],[\"$\",\"meta\",\"9\",{\"name\":\"twitter:title\",\"content\":\"This is what happens when you use react-router with Github Pages\"}],[\"$\",\"meta\",\"10\",{\"name\":\"twitter:description\",\"content\":\"gh-pages, react-router, hash routing, giscus, debugging\"}],[\"$\",\"meta\",\"11\",{\"name\":\"twitter:image\",\"content\":\"https://images.ctfassets.net/ud4ywsjg17po/7w3yMYYkgPRlqXiumkqwiI/a1377849f259c3d95d33b0eee428c2c5/image.png\"}],[\"$\",\"link\",\"12\",{\"rel\":\"icon\",\"href\":\"/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"512x512\"}]]\n3:null\n"])</script><script>self.__next_f.push([1,"c:I[37162,[\"969\",\"static/chunks/969-f3f8651faff4ca7e.js\",\"373\",\"static/chunks/373-7f60cae59a2f8664.js\",\"100\",\"static/chunks/100-033ed5492bec06ee.js\",\"626\",\"static/chunks/626-253854c0bd6a9b19.js\",\"548\",\"static/chunks/app/blog/%5Bid%5D/page-942bf78483feb3a1.js\"],\"default\"]\ne:I[56445,[\"969\",\"static/chunks/969-f3f8651faff4ca7e.js\",\"373\",\"static/chunks/373-7f60cae59a2f8664.js\",\"100\",\"static/chunks/100-033ed5492bec06ee.js\",\"626\",\"static/chunks/626-253854c0bd6a9b19.js\",\"548\",\"static/chunks/app/blog/%5Bid%5D/page-942bf78483feb3a1.js\"],\"default\"]\nd:T57e7,"])</script><script>self.__next_f.push([1,"\u003e Hey, before you start reading this blog, you might wanna read this.\n\u003e In the context of my project, this blog is largely obsolete. Kinda sad, specially cause I had anticipated this might happen from the very first day I wrote this. Still, I believe it could hold some value for others, so I’ll leave it here. Feel free to take a look—maybe you’ll find something useful! :) For the new updated version, feel free to check out [Here's what I did not tell you about my Portfolio Website](https://karunika.work/blog/2bA7t3vgJ8fuGYD1wjA6ah)\n\nHi again!\n\nI'm back to discuss some technical aspects of my portfolio website. One of the major issues I faced was with React Routing, which has been particularly challenging.\n\n## Introduction\n\nFor those who are new to this— this is how most browsers work basically. Everytime you type in a url into the browser's address bar, a GET HTTP request is fired. Static web hosting services like GitHub Pages, provide a minimal server as a service, which responds HTTP requests— as the name suggests— with static assets.\n\nFor example, visiting `https://example.com/xyz.png` serves the image `xyz.png`, while visiting `https://example.com` typically serves the `index.html` file automatically, without needing to explicitly include the filename in the url.\n\nHowever, the key limitation of static hosting is that it expects static asset for each url. In case a static asset is not present, you get the classic 404, 'resouce not found' error.\n\nAnother way we can set off a GET HTTP request is by clicking on hyperlinks occuring in html files. These hyperlinks does a job tantamount to pasting a link present in the href attribute of the anchor tag, into the browser's address bar and pressing the enter key.\n\nIn more advance serving strategies, like Static Site Generation or Server Side Rendering, these assets are usually dynamically generated during build time or run time respectively, and then served. But for everything you see on the page is a rendered product of what once was a mere HTTP response to the url present on that page's address bar.\n\nBut there is an exception to this rule. And that exception is Client Side Rendering routings.\n\nThere is a way we can programmatically change the url in our browser's address bar and not fire a HTTP request. And that way is using the [History API](https://developer.mozilla.org/en-US/docs/Web/API/History_API).\n\nMost CSR tools have their own ecosystem, and atleast one router library, which uses the [History API](https://developer.mozilla.org/en-US/docs/Web/API/History_API) under the hood, including React react-router-dom v6.\n\nNow the problem with Client Side Rendering solutions like React is that when we serve the build files through a static web hosting service, you do not have the views or static 'html' files at your disposal ready to be served at each route defined in the react app. When you serve these build files, at your base url, a minimal `index.html` is served with a reference to a bundled JS script, which when recieved and executed, all the router related scripts are made available. It works perfectly fine when you interact and navigate to various routes with the website you recieve at the base url, but guess what happens if you refresh the page? or manually enter a route?\n\nThe JS script that determines routes programmatically referenced at the `index.html` is not received as a HTTP response to the request triggered by the act of refreshing the page or manually typing the url.\n\nFor e.g., if you enter `https://example.com/about` URL manually in your browser, you are essentially causing the browser to send a GET request for that specific path. Since GitHub Pages and other static hosting services don't have an `about.html`, a 404 error is triggered, even if there is a route corresponding to that URL defined in your React script.\n\nIf you had control over the server, you can serve `index.html` for all routes. By sending `index.html` on all the routes, the script referenced in it is excecuted and only the component meant to be rendered at a particular route is mounted. But unfortunately we do not have that option in most Static Web hosting services like GitHub Pages. I am gonna go through my journey of tackling this problem, so that you can learn from it next you are deploying your static website!\n\n\u003e Traditionally, the code for all the routes is bundled into a single JS file at build time. It isn't very difficult to see how this approach can be significantly suboptimal as users have to wait for the entire bundle to load, which may include unnecessary components for the route they initially visited, specially if there are alot of routes and components. There are some strategies like splitting the JS bundle into smaller chunks by *lazy-loading components*. Lazy-loading essentially just defers loading a component’s code until it is rendered for the first time.[^1]\n\n[^1]:  Seram, Nitesh (Jun 3, 2024). [Implementing Code Splitting and Lazy Loading in React](https://www.greatfrontend.com/blog/code-splitting-and-lazy-loading-in-react)\n\n## Definitions\n\nBefore that I am just gonna quickly establish how I am going to use some jargon to avoid ambiguous interpretations:\n1. __origin__ or __hostname__: domain name and the top-level domain. E.g., `example.com`.\n2. __pathname__: anything that is followed by the hostname, but preceeding the hash and query strings. E.g., `expample.com/users/blogs/hello-world#title?theme=dark\u0026spacing=2`, here `/users/blogs/hello-world` would be a pathname in my book.\n3. __query string__: begins with '?'; key value pairs. E.g., `?theme=dark\u0026spacing=2` in the previous url.\n4. __anchor__: string followed by the `#`.\n\nI consider all the term I have introduced so far as parts of an url.\n\n5. __base url__: the url at which the `index.html` is served in a static hosting. In `package.json` it is called `homepage`.\n6. __basename__: the base path at which `index.html` is served. That would be base url without the origin.\n\n## Problem Forumulation in my Project's Context\n\nSo conventionally, the default base url at which github pages serve static file is `\u003cusername\u003e.github.io/\u003crepository_name\u003e`.\n\n`BrowserRouter` from react-router usually assumes the base url to be the origin part of the url.\n\nFor you to specifically set a url containing a pathname as a part of base url, you must pass it as a value of the basename in the `basename` property of BrowserRouter.\n\nMy initial draft of the Router component I wrote looked something akin to the following:\n\n```ts\nconst Router = () =\u003e {\n    return (\n        \u003cBrowserRouter basename={process.env.PUBLIC_URL}\u003e\n            \u003cRoutes\u003e\n                \u003cRoute path='/' element={\u003cLayout /\u003e}\u003e\n                    \u003cRoute index element={\u003cHome /\u003e} /\u003e\n                    \u003cRoute path='blog' element={\u003cBlogList /\u003e} /\u003e\n                    \u003cRoute path='blog/:id' element={\u003cBlog /\u003e} /\u003e\n                \u003c/Route\u003e\n            \u003c/Routes\u003e\n        \u003c/BrowserRouter\u003e\n    )\n}\n```\nwhere `process.enc.PUBLIC_URL` automatically grabs the basename from `package.json`'s `\"homepage\"` property.\n\n```json\n  \"homepage\": \"https://karunika.github.io/portfolio/\",\n```\n\nthat worked very well, but unsuprisingly, served an error whenever I manually visited `https://karunika.github.io/portfolio/blog`.\n\n![404 github error](//images.ctfassets.net/ud4ywsjg17po/4etc1kcSxeWOonntfxiHzd/654b352d058392809fa25a5713efaa55/image.png)\n\nWell this poses an undoubtedly huge problem.\n\n## Replacing BrowserRouter with HashRouter\n\nHere's how anchors work: they are never sent to the server. This means that modifying or appending anything after the # in the url does trigger an HTTP GET request but not with a new url—it behaves as though the anchor doesn’t exist. As a result, it always gets the `index.html` file if the request is made to base url followed by a hash followed by anything.\n\nSo a strategy people often use is append a `#` to the base url and manage all the routing after that programmatically. Simple, right? No :)\n\nhere's what I did\n\n```ts\nconst Router = () =\u003e {\n    return (\n        \u003cHashRouter basename={process.env.PUBLIC_URL}\u003e\n            \u003cRoutes\u003e\n                \u003cRoute path='/' element={\u003cLayout /\u003e}\u003e\n                    \u003cRoute index element={\u003cHome /\u003e} /\u003e\n                    \u003cRoute path='blog' element={\u003cBlogList /\u003e} /\u003e\n                    \u003cRoute path='blog/:id' element={\u003cBlog /\u003e} /\u003e\n                \u003c/Route\u003e\n            \u003c/Routes\u003e\n        \u003c/HashRouter\u003e\n    )\n}\n```\n\nSimply replaced `BrowserRouter` with `HashRouter` and quickly realised that this didn't work as expected.\n\nLet's take this example from the [react router docs](https://reactrouter.com/en/main/router-components/hash-router).\n\n```js\nfunction App() {\n  return (\n    \u003cHashRouter basename=\"/app\"\u003e\n      \u003cRoutes\u003e\n        \u003cRoute path=\"/\" /\u003e {/* 👈 Renders at /#/app/ */}\n      \u003c/Routes\u003e\n    \u003c/HashRouter\u003e\n  );\n}\n```\n\nSo using this, doesn't append a hash to the route, but prepends it to the base name!\n\nWell that wouldn't have helped my case at all, cause I cannot make GitHub pages serve at `https://karunika.github.io/#/portfolio/` instead of `https://karunika.github.io/portfolio/`.\n\nSo I made some changes here and there, researched it on the internet forums, stackoverflow, and what not and found myself at the same position as what I had began with.\n\nHere's an excercise for you :) Tell me in the comments why this won't work either:\n\n```ts\nconst Router = () =\u003e {\n    return (\n        \u003cHashRouter basename={process.env.PUBLIC_URL}\u003e\n            \u003cRoutes\u003e\n                \u003cRoute path='/' element={\u003cLayout /\u003e}\u003e\n                    \u003cRoute index element={\u003cHome /\u003e} /\u003e\n                    \u003cRoute path='blog' element={\u003cBlogList /\u003e} /\u003e\n                    \u003cRoute path='blog/:id' element={\u003cBlog /\u003e} /\u003e\n                \u003c/Route\u003e\n            \u003c/Routes\u003e\n        \u003c/HashRouter\u003e\n    )\n}\n```\n\n## Workarounds that didn't work for me\n\nSome workarounds that didn't work for me, but might work for you.\n\nIf your goal is simply to avoid the github's 404, you can write a custom `404.html` in the `public` folder, but anything you see there won't be a part of your React Single Page Application (SPA). And the only way to enter your SPA from this page would be by manually navigating to the base URL provided by GitHub.\n\nThat said, one way to route users back into your React SPA is by redirecting them to the index route using a script in your `404.html` file, like so:\n\n```js\nwindow.location.href = window.location.hostname + repositoryLink\n```\n\nJust for the record, this triggers a full HTTP request to the new route, rather than just programmatically updating the url as would happen if you used `window.history` methods for navigation.\n\nUsing this solution, if I were to enter `https://karunika.github.io/portfolio/blog` manually in my address bar, I'll be redirected to `https://karunika.github.io/portfolio/`. If your site has many routes, this isn’t a great user experience since users would need to navigate back to their desired page every time they reload.\n\nFor me, I wanted the ability to share links to my blogs, so this was definitely not it.\n\n## My last unsuccessful try\n\nHad my base url just been `https://karunika.github.io/`, the `HashRouter` would have worked perfectly fine. Why?\n\nIt wouldn't require a basename. Simple. Just a simple append of `#` after the link.\n\nSo here's what I tried. I soft redirected myself to the `https://karunika.github.io/` in my root component, and then used a `HashRouter` with no basename.\n\nBut to my dissapointment, that didn't work either cause on reloads, since react app wasn't served by GitHub pages at that route, my poor server was clueless where to find the resources to display.\n\n## I bought a domain name\n\nWell, I bought a domain from [Cloudflare](https://www.cloudflare.com/), configured my GitHub pages to use my custom domain, and now I didn't have to worry about basenames at all.\n\nThe `index.html` is served at the base '/' and using `HashRouter` on top of it worked perfectly.\n\nAt the end, I am pretty happy about actually buying the domain name, cause it even looks cooler.\n\n## Other solutions\n\nSome people on [Reactiflux Discord Server](https://www.reactiflux.com/) recommended alternatives like [netlify](https://app.netlify.com/) or [heroku](https://www.heroku.com), and I’ve used both before—they're great options. However, I personally preferred the GitHub domain name, so I was hesitant to switch away from GitHub.\n\nEventually I bought my own domain which worked seamlessly with GitHub, so didn't bother to myself to switch to a different hosting service.\n\n## Incorporating giscus comment section\n\nThere is still more to the story than meets the eye.\n\nThe authentication callback URLs using giscus included a trailing `#comments` anchor. In a `HashRouter`, the `#comments` is treated as the `/comments` route. Since none of my routes matched that path, I was constantly getting router warnings—though they were disabled in production mode. Given that most of my routing issues were caused by GitHub Pages in the past, I was mostly testing my app in production mode (lol), so I was pretty oblivious to what was going on for a couple of hours.\n\nThis warning ended up being the reason for the authentication failure, although I’m still unsure of the exact cause. What made it even more perplexing was that my cookies were still being set. If you have any insights on why the authentication was failing, feel free to share in the comments!\n\nEventually adding this line was a neat little fix:\n\n```ts\n\u003cRoute path='comments' element={\u003cNavigate to='../blog' replace={true} /\u003e} /\u003e\n```\n\nThere are still some issues with the current setup—for instance, after signing in with GitHub, you're not redirected back to the original page where you clicked 'Sign in with GitHub'.\n\nI don't believe this can be easily fixed, and here's why.\n\nWith client side routing, you have the option to pass along a piece of information or \"state\" to the route you're navigating to. In React, for example, you can pass state like this:\n\n```ts\n\u003cNavigate to='xyz' state={ data: 'hello world' } /\u003e\n```\n\nThen, in the component rendered at `/xyz`, you can access that state using:\n```ts\nimport { useLocation } from 'react-router-dom'\n\nconst XyzPage = () =\u003e {\n    const { state } = useLocation()\n\n    return \u003cdiv\u003e{state.hello}\u003c/div\u003e\n}\n```\n\nIn vanilla JavaScript, this can be achieved with,\n\nTo navigate,\n```js\npushState({ data: 'hello world' }, '', '/xyz')\n```\nan to access state.\n```js\nconsole.log(window.history.state) // 'hello world'\n```\n\nUsing this approach, you could kind of send the current path to the new route when navigating, allowing you to track where the user came from.\n\nHowever, there's no way to pass state during a \"hard\" navigation (a full page reload). Authentication redirects are hard navigations, which means they don’t preserve state. There’s no way to access the navigation history via standard browser APIs after such a redirection.\n\n### Giscus Page-Discussion mapping\n\nEverything was going well, until I hit one final issue related to `HashRouter`.\n\n![giscus page-dicussion mapping options](//images.ctfassets.net/ud4ywsjg17po/4O7DC7i5VykG3Q5cFQgNvD/5b4fb35c453f16dd1034c8557c5af657/image.png)\n\nAs you can see, I chose the default option: 'Discussion title contains page pathname'. This means that whenever someone comments on a blog post, the comment is linked to a discussion with a title matching the pathname of the url where the Giscus comment section is embedded.\n\nOof.\n\nSo, Giscus comment section authentication is working. But comment POST request gave a bad request exception.\n\nAny guesses why?\n\nAnything after `#` is treated as an 'anchor', not a path name. And that was it.\n\nSo was my time to choose another option from that list.\n\nNow that I think about it, using the full url would’ve been a better choice. At the time, I dismissed this option because it would have caused redundancy by including the origin part of the url in every discussion title. As for the next option, I didn't want my Blog page tab to be displaying an alphanumeric jibber-jabber of an ID generated by Contentful, so that eliminated the title content option for me really quick too. At the end, I opted for using `meta` tags, but that came at the cost of side effects.\n\nI also realized, in hindsight, that I had given my blog page component a rather unhelpful name—`Calc`. Not the most descriptive, and I really hope my recruiter never stumbles upon it.\n\n```ts\nconst Calc = () =\u003e {\n    // ...\n    let { id } = useParams();\n\n    useEffect(() =\u003e {\n        const meta = document.createElement('meta')\n\n        if (id) {\n            meta.setAttribute('property', 'og:title')\n            meta.setAttribute('content', id)\n            document.head.appendChild(meta)\n        }\n\n        return () =\u003e {\n            document.head.removeChild(meta)\n        }\n    }, [id])\n\n    // ...\n}\n```\n\nThis was my somewhat hacky solution. And after a day of debugging, I could really not think any better.\n\nIf you have any cool suggestions to fix any of the bugs I have mentioned so far, feel free to share!\n\n## Footnote links in Markdown\n\nCongratulations for making it this far! This is the last bug I needed to fix before my website was finally complete (except for code refactoring, particularly making it typesafe for easier maintenance in the future).\n\nThis problem was somewhat similar to the Giscus authentication callback url issue, so I’ll do my best to keep it short.\n\n### Background\nI’m using the [react-markdown](https://github.com/remarkjs/react-markdown) library to render markdown, along with the [remark-gfm](https://github.com/remarkjs/remark-gfm) plugin for supporting autolink literals, footnotes, strikethroughs, tables, and task lists.\n\nThe issue arose with footnotes.\n\nHere’s a simple markdown example for adding footnotes to a blog:\n\n```md\nA note[^1]\n\n[^1]: Big note.\n```\nThis example comes directly from the `rehype-gfm README.md` by the way.\n\nThe corresponding HTML output looks like this:\n```html\n\u003cp\u003eA note\n    \u003csup\u003e\n        \u003ca\n          href=\"#user-content-fn-1\"\n          id=\"user-content-fnref-1\"\n          data-footnote-ref\n          aria-describedby=\"footnote-label\"\n          \u003e\n               1\n          \u003c/a\u003e\n    \u003c/sup\u003e\n\u003c/p\u003e\n```\n\nAnd here’s the `footnotes` section generated at the end of the blog:\n\n```html\n\u003csection data-footnotes class=\"footnotes\"\u003e\n    \u003ch2 class=\"sr-only\" id=\"footnote-label\"\u003eFootnotes\u003c/h2\u003e\n    \u003col\u003e\n        \u003cli id=\"user-content-fn-1\"\u003e\n            \u003cp\u003eBig note.\n                \u003ca\n                    href=\"#user-content-fnref-1\"\n                    data-footnote-backref\n                    class=\"data-footnote-backref\"\n                    aria-label=\"Back to content\"\n                \u003e\n                    ↩\n                \u003c/a\u003e\n            \u003c/p\u003e\n        \u003c/li\u003e\n    \u003c/ol\u003e\n\u003c/section\u003e\n```\n\n### The Problem\nThe issue was with the footnote links. URLs can have only one anchor text. So clicking on these links would replace the entire hash route in the URL with the `href` of the clicked element (e.g., `#user-content-fn-1`). This caused the same error as the giscus authentication url i.e., 'no routes matched'.\n\n### The Solution\nI solved it by using using side effects again. I am gonna just explain it in short and not overwhelm you with the code.\n\n1. __Selecting Footnote Anchors:__ I used the [Web API’s `querySelector`](https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelector) to select all relevant anchor elements.\n2. __Disabling Anchor String Replacement:__ I removed the href attributes from the footnote links to prevent the hash route from being altered.\n3. __Custom Scrolling Logic:__ I registered event listeners on these anchors and used the [react-scroll](https://www.npmjs.com/package/react-scroll) library to programmatically scroll to the target IDs when clicked.\n4. __Cleanup:__ Of course, I made sure to clean up the event listeners to avoid memory leaks.\n\nActually never mind. Here's the code for just in case you are curious lol.\n\n```ts\nconst useFootnotes = (loading: boolean, blogId: string | undefined) =\u003e {\n    useEffect(() =\u003e {\n        const footnote = document.querySelector('section.footnotes');\n        const as_ = footnote?.querySelectorAll('span.data-footnote-backref \u003e a');\n        const refs = document.querySelectorAll('[data-footnote-ref] \u003e a');\n\n        const cb = (id: string) =\u003e {\n            return () =\u003e scroller.scrollTo('user-content-' + id.replace('#', ''), {\n                duration: 1000,\n                smooth: true,\n            });\n        };\n\n        if (!loading \u0026\u0026 as_ \u0026\u0026 refs) {\n            as_.forEach((backLink) =\u003e {\n                const backId = backLink.getAttribute('href');\n                if (backId) {\n                    backLink.removeAttribute('href');\n                    backLink.addEventListener('click', cb(backId));\n                }\n            });\n\n            refs.forEach((refLink) =\u003e {\n                const refId = refLink.getAttribute('href');\n                if (refId) {\n                    refLink.removeAttribute('href');\n                    refLink.addEventListener('click', cb(refId));\n                }\n            });\n        }\n\n        return () =\u003e {\n            if (as_ \u0026\u0026 refs) {\n                as_.forEach((backLink) =\u003e {\n                    const backId = backLink.getAttribute('href');\n                    if (backId) {\n                        backLink.removeEventListener('click', cb(backId));\n                    }\n                });\n\n                refs.forEach((refLink) =\u003e {\n                    const refId = refLink.getAttribute('href');\n                    if (refId) {\n                        refLink.removeEventListener('click', cb(refId));\n                    }\n                });\n            }\n        };\n    }, [loading, blogId]);\n}\n```\n\n## Conclusion\n\n*Sigh*\n\nFinally, all routing bugs are fixed. Well, atleast to far as my knowledge goes.\n\nOverall, debugging these routing issues was a fun and rewarding experience, and I learned a lot along the way. It’s always interesting to dive deep into problems like this, as they challenge you to think creatively and explore new solutions. Hopefully, my experience has given you some useful insights and perhaps even saved you from a few headaches down the road!\n\nThis was pretty long blog- longer than anticipated to say the least. Thanks for following along, and I hope you picked up something new. If you have any thoughts or solutions, feel free to share. Until next time, happy coding!"])</script><script>self.__next_f.push([1,"10:T57e7,"])</script><script>self.__next_f.push([1,"\u003e Hey, before you start reading this blog, you might wanna read this.\n\u003e In the context of my project, this blog is largely obsolete. Kinda sad, specially cause I had anticipated this might happen from the very first day I wrote this. Still, I believe it could hold some value for others, so I’ll leave it here. Feel free to take a look—maybe you’ll find something useful! :) For the new updated version, feel free to check out [Here's what I did not tell you about my Portfolio Website](https://karunika.work/blog/2bA7t3vgJ8fuGYD1wjA6ah)\n\nHi again!\n\nI'm back to discuss some technical aspects of my portfolio website. One of the major issues I faced was with React Routing, which has been particularly challenging.\n\n## Introduction\n\nFor those who are new to this— this is how most browsers work basically. Everytime you type in a url into the browser's address bar, a GET HTTP request is fired. Static web hosting services like GitHub Pages, provide a minimal server as a service, which responds HTTP requests— as the name suggests— with static assets.\n\nFor example, visiting `https://example.com/xyz.png` serves the image `xyz.png`, while visiting `https://example.com` typically serves the `index.html` file automatically, without needing to explicitly include the filename in the url.\n\nHowever, the key limitation of static hosting is that it expects static asset for each url. In case a static asset is not present, you get the classic 404, 'resouce not found' error.\n\nAnother way we can set off a GET HTTP request is by clicking on hyperlinks occuring in html files. These hyperlinks does a job tantamount to pasting a link present in the href attribute of the anchor tag, into the browser's address bar and pressing the enter key.\n\nIn more advance serving strategies, like Static Site Generation or Server Side Rendering, these assets are usually dynamically generated during build time or run time respectively, and then served. But for everything you see on the page is a rendered product of what once was a mere HTTP response to the url present on that page's address bar.\n\nBut there is an exception to this rule. And that exception is Client Side Rendering routings.\n\nThere is a way we can programmatically change the url in our browser's address bar and not fire a HTTP request. And that way is using the [History API](https://developer.mozilla.org/en-US/docs/Web/API/History_API).\n\nMost CSR tools have their own ecosystem, and atleast one router library, which uses the [History API](https://developer.mozilla.org/en-US/docs/Web/API/History_API) under the hood, including React react-router-dom v6.\n\nNow the problem with Client Side Rendering solutions like React is that when we serve the build files through a static web hosting service, you do not have the views or static 'html' files at your disposal ready to be served at each route defined in the react app. When you serve these build files, at your base url, a minimal `index.html` is served with a reference to a bundled JS script, which when recieved and executed, all the router related scripts are made available. It works perfectly fine when you interact and navigate to various routes with the website you recieve at the base url, but guess what happens if you refresh the page? or manually enter a route?\n\nThe JS script that determines routes programmatically referenced at the `index.html` is not received as a HTTP response to the request triggered by the act of refreshing the page or manually typing the url.\n\nFor e.g., if you enter `https://example.com/about` URL manually in your browser, you are essentially causing the browser to send a GET request for that specific path. Since GitHub Pages and other static hosting services don't have an `about.html`, a 404 error is triggered, even if there is a route corresponding to that URL defined in your React script.\n\nIf you had control over the server, you can serve `index.html` for all routes. By sending `index.html` on all the routes, the script referenced in it is excecuted and only the component meant to be rendered at a particular route is mounted. But unfortunately we do not have that option in most Static Web hosting services like GitHub Pages. I am gonna go through my journey of tackling this problem, so that you can learn from it next you are deploying your static website!\n\n\u003e Traditionally, the code for all the routes is bundled into a single JS file at build time. It isn't very difficult to see how this approach can be significantly suboptimal as users have to wait for the entire bundle to load, which may include unnecessary components for the route they initially visited, specially if there are alot of routes and components. There are some strategies like splitting the JS bundle into smaller chunks by *lazy-loading components*. Lazy-loading essentially just defers loading a component’s code until it is rendered for the first time.[^1]\n\n[^1]:  Seram, Nitesh (Jun 3, 2024). [Implementing Code Splitting and Lazy Loading in React](https://www.greatfrontend.com/blog/code-splitting-and-lazy-loading-in-react)\n\n## Definitions\n\nBefore that I am just gonna quickly establish how I am going to use some jargon to avoid ambiguous interpretations:\n1. __origin__ or __hostname__: domain name and the top-level domain. E.g., `example.com`.\n2. __pathname__: anything that is followed by the hostname, but preceeding the hash and query strings. E.g., `expample.com/users/blogs/hello-world#title?theme=dark\u0026spacing=2`, here `/users/blogs/hello-world` would be a pathname in my book.\n3. __query string__: begins with '?'; key value pairs. E.g., `?theme=dark\u0026spacing=2` in the previous url.\n4. __anchor__: string followed by the `#`.\n\nI consider all the term I have introduced so far as parts of an url.\n\n5. __base url__: the url at which the `index.html` is served in a static hosting. In `package.json` it is called `homepage`.\n6. __basename__: the base path at which `index.html` is served. That would be base url without the origin.\n\n## Problem Forumulation in my Project's Context\n\nSo conventionally, the default base url at which github pages serve static file is `\u003cusername\u003e.github.io/\u003crepository_name\u003e`.\n\n`BrowserRouter` from react-router usually assumes the base url to be the origin part of the url.\n\nFor you to specifically set a url containing a pathname as a part of base url, you must pass it as a value of the basename in the `basename` property of BrowserRouter.\n\nMy initial draft of the Router component I wrote looked something akin to the following:\n\n```ts\nconst Router = () =\u003e {\n    return (\n        \u003cBrowserRouter basename={process.env.PUBLIC_URL}\u003e\n            \u003cRoutes\u003e\n                \u003cRoute path='/' element={\u003cLayout /\u003e}\u003e\n                    \u003cRoute index element={\u003cHome /\u003e} /\u003e\n                    \u003cRoute path='blog' element={\u003cBlogList /\u003e} /\u003e\n                    \u003cRoute path='blog/:id' element={\u003cBlog /\u003e} /\u003e\n                \u003c/Route\u003e\n            \u003c/Routes\u003e\n        \u003c/BrowserRouter\u003e\n    )\n}\n```\nwhere `process.enc.PUBLIC_URL` automatically grabs the basename from `package.json`'s `\"homepage\"` property.\n\n```json\n  \"homepage\": \"https://karunika.github.io/portfolio/\",\n```\n\nthat worked very well, but unsuprisingly, served an error whenever I manually visited `https://karunika.github.io/portfolio/blog`.\n\n![404 github error](//images.ctfassets.net/ud4ywsjg17po/4etc1kcSxeWOonntfxiHzd/654b352d058392809fa25a5713efaa55/image.png)\n\nWell this poses an undoubtedly huge problem.\n\n## Replacing BrowserRouter with HashRouter\n\nHere's how anchors work: they are never sent to the server. This means that modifying or appending anything after the # in the url does trigger an HTTP GET request but not with a new url—it behaves as though the anchor doesn’t exist. As a result, it always gets the `index.html` file if the request is made to base url followed by a hash followed by anything.\n\nSo a strategy people often use is append a `#` to the base url and manage all the routing after that programmatically. Simple, right? No :)\n\nhere's what I did\n\n```ts\nconst Router = () =\u003e {\n    return (\n        \u003cHashRouter basename={process.env.PUBLIC_URL}\u003e\n            \u003cRoutes\u003e\n                \u003cRoute path='/' element={\u003cLayout /\u003e}\u003e\n                    \u003cRoute index element={\u003cHome /\u003e} /\u003e\n                    \u003cRoute path='blog' element={\u003cBlogList /\u003e} /\u003e\n                    \u003cRoute path='blog/:id' element={\u003cBlog /\u003e} /\u003e\n                \u003c/Route\u003e\n            \u003c/Routes\u003e\n        \u003c/HashRouter\u003e\n    )\n}\n```\n\nSimply replaced `BrowserRouter` with `HashRouter` and quickly realised that this didn't work as expected.\n\nLet's take this example from the [react router docs](https://reactrouter.com/en/main/router-components/hash-router).\n\n```js\nfunction App() {\n  return (\n    \u003cHashRouter basename=\"/app\"\u003e\n      \u003cRoutes\u003e\n        \u003cRoute path=\"/\" /\u003e {/* 👈 Renders at /#/app/ */}\n      \u003c/Routes\u003e\n    \u003c/HashRouter\u003e\n  );\n}\n```\n\nSo using this, doesn't append a hash to the route, but prepends it to the base name!\n\nWell that wouldn't have helped my case at all, cause I cannot make GitHub pages serve at `https://karunika.github.io/#/portfolio/` instead of `https://karunika.github.io/portfolio/`.\n\nSo I made some changes here and there, researched it on the internet forums, stackoverflow, and what not and found myself at the same position as what I had began with.\n\nHere's an excercise for you :) Tell me in the comments why this won't work either:\n\n```ts\nconst Router = () =\u003e {\n    return (\n        \u003cHashRouter basename={process.env.PUBLIC_URL}\u003e\n            \u003cRoutes\u003e\n                \u003cRoute path='/' element={\u003cLayout /\u003e}\u003e\n                    \u003cRoute index element={\u003cHome /\u003e} /\u003e\n                    \u003cRoute path='blog' element={\u003cBlogList /\u003e} /\u003e\n                    \u003cRoute path='blog/:id' element={\u003cBlog /\u003e} /\u003e\n                \u003c/Route\u003e\n            \u003c/Routes\u003e\n        \u003c/HashRouter\u003e\n    )\n}\n```\n\n## Workarounds that didn't work for me\n\nSome workarounds that didn't work for me, but might work for you.\n\nIf your goal is simply to avoid the github's 404, you can write a custom `404.html` in the `public` folder, but anything you see there won't be a part of your React Single Page Application (SPA). And the only way to enter your SPA from this page would be by manually navigating to the base URL provided by GitHub.\n\nThat said, one way to route users back into your React SPA is by redirecting them to the index route using a script in your `404.html` file, like so:\n\n```js\nwindow.location.href = window.location.hostname + repositoryLink\n```\n\nJust for the record, this triggers a full HTTP request to the new route, rather than just programmatically updating the url as would happen if you used `window.history` methods for navigation.\n\nUsing this solution, if I were to enter `https://karunika.github.io/portfolio/blog` manually in my address bar, I'll be redirected to `https://karunika.github.io/portfolio/`. If your site has many routes, this isn’t a great user experience since users would need to navigate back to their desired page every time they reload.\n\nFor me, I wanted the ability to share links to my blogs, so this was definitely not it.\n\n## My last unsuccessful try\n\nHad my base url just been `https://karunika.github.io/`, the `HashRouter` would have worked perfectly fine. Why?\n\nIt wouldn't require a basename. Simple. Just a simple append of `#` after the link.\n\nSo here's what I tried. I soft redirected myself to the `https://karunika.github.io/` in my root component, and then used a `HashRouter` with no basename.\n\nBut to my dissapointment, that didn't work either cause on reloads, since react app wasn't served by GitHub pages at that route, my poor server was clueless where to find the resources to display.\n\n## I bought a domain name\n\nWell, I bought a domain from [Cloudflare](https://www.cloudflare.com/), configured my GitHub pages to use my custom domain, and now I didn't have to worry about basenames at all.\n\nThe `index.html` is served at the base '/' and using `HashRouter` on top of it worked perfectly.\n\nAt the end, I am pretty happy about actually buying the domain name, cause it even looks cooler.\n\n## Other solutions\n\nSome people on [Reactiflux Discord Server](https://www.reactiflux.com/) recommended alternatives like [netlify](https://app.netlify.com/) or [heroku](https://www.heroku.com), and I’ve used both before—they're great options. However, I personally preferred the GitHub domain name, so I was hesitant to switch away from GitHub.\n\nEventually I bought my own domain which worked seamlessly with GitHub, so didn't bother to myself to switch to a different hosting service.\n\n## Incorporating giscus comment section\n\nThere is still more to the story than meets the eye.\n\nThe authentication callback URLs using giscus included a trailing `#comments` anchor. In a `HashRouter`, the `#comments` is treated as the `/comments` route. Since none of my routes matched that path, I was constantly getting router warnings—though they were disabled in production mode. Given that most of my routing issues were caused by GitHub Pages in the past, I was mostly testing my app in production mode (lol), so I was pretty oblivious to what was going on for a couple of hours.\n\nThis warning ended up being the reason for the authentication failure, although I’m still unsure of the exact cause. What made it even more perplexing was that my cookies were still being set. If you have any insights on why the authentication was failing, feel free to share in the comments!\n\nEventually adding this line was a neat little fix:\n\n```ts\n\u003cRoute path='comments' element={\u003cNavigate to='../blog' replace={true} /\u003e} /\u003e\n```\n\nThere are still some issues with the current setup—for instance, after signing in with GitHub, you're not redirected back to the original page where you clicked 'Sign in with GitHub'.\n\nI don't believe this can be easily fixed, and here's why.\n\nWith client side routing, you have the option to pass along a piece of information or \"state\" to the route you're navigating to. In React, for example, you can pass state like this:\n\n```ts\n\u003cNavigate to='xyz' state={ data: 'hello world' } /\u003e\n```\n\nThen, in the component rendered at `/xyz`, you can access that state using:\n```ts\nimport { useLocation } from 'react-router-dom'\n\nconst XyzPage = () =\u003e {\n    const { state } = useLocation()\n\n    return \u003cdiv\u003e{state.hello}\u003c/div\u003e\n}\n```\n\nIn vanilla JavaScript, this can be achieved with,\n\nTo navigate,\n```js\npushState({ data: 'hello world' }, '', '/xyz')\n```\nan to access state.\n```js\nconsole.log(window.history.state) // 'hello world'\n```\n\nUsing this approach, you could kind of send the current path to the new route when navigating, allowing you to track where the user came from.\n\nHowever, there's no way to pass state during a \"hard\" navigation (a full page reload). Authentication redirects are hard navigations, which means they don’t preserve state. There’s no way to access the navigation history via standard browser APIs after such a redirection.\n\n### Giscus Page-Discussion mapping\n\nEverything was going well, until I hit one final issue related to `HashRouter`.\n\n![giscus page-dicussion mapping options](//images.ctfassets.net/ud4ywsjg17po/4O7DC7i5VykG3Q5cFQgNvD/5b4fb35c453f16dd1034c8557c5af657/image.png)\n\nAs you can see, I chose the default option: 'Discussion title contains page pathname'. This means that whenever someone comments on a blog post, the comment is linked to a discussion with a title matching the pathname of the url where the Giscus comment section is embedded.\n\nOof.\n\nSo, Giscus comment section authentication is working. But comment POST request gave a bad request exception.\n\nAny guesses why?\n\nAnything after `#` is treated as an 'anchor', not a path name. And that was it.\n\nSo was my time to choose another option from that list.\n\nNow that I think about it, using the full url would’ve been a better choice. At the time, I dismissed this option because it would have caused redundancy by including the origin part of the url in every discussion title. As for the next option, I didn't want my Blog page tab to be displaying an alphanumeric jibber-jabber of an ID generated by Contentful, so that eliminated the title content option for me really quick too. At the end, I opted for using `meta` tags, but that came at the cost of side effects.\n\nI also realized, in hindsight, that I had given my blog page component a rather unhelpful name—`Calc`. Not the most descriptive, and I really hope my recruiter never stumbles upon it.\n\n```ts\nconst Calc = () =\u003e {\n    // ...\n    let { id } = useParams();\n\n    useEffect(() =\u003e {\n        const meta = document.createElement('meta')\n\n        if (id) {\n            meta.setAttribute('property', 'og:title')\n            meta.setAttribute('content', id)\n            document.head.appendChild(meta)\n        }\n\n        return () =\u003e {\n            document.head.removeChild(meta)\n        }\n    }, [id])\n\n    // ...\n}\n```\n\nThis was my somewhat hacky solution. And after a day of debugging, I could really not think any better.\n\nIf you have any cool suggestions to fix any of the bugs I have mentioned so far, feel free to share!\n\n## Footnote links in Markdown\n\nCongratulations for making it this far! This is the last bug I needed to fix before my website was finally complete (except for code refactoring, particularly making it typesafe for easier maintenance in the future).\n\nThis problem was somewhat similar to the Giscus authentication callback url issue, so I’ll do my best to keep it short.\n\n### Background\nI’m using the [react-markdown](https://github.com/remarkjs/react-markdown) library to render markdown, along with the [remark-gfm](https://github.com/remarkjs/remark-gfm) plugin for supporting autolink literals, footnotes, strikethroughs, tables, and task lists.\n\nThe issue arose with footnotes.\n\nHere’s a simple markdown example for adding footnotes to a blog:\n\n```md\nA note[^1]\n\n[^1]: Big note.\n```\nThis example comes directly from the `rehype-gfm README.md` by the way.\n\nThe corresponding HTML output looks like this:\n```html\n\u003cp\u003eA note\n    \u003csup\u003e\n        \u003ca\n          href=\"#user-content-fn-1\"\n          id=\"user-content-fnref-1\"\n          data-footnote-ref\n          aria-describedby=\"footnote-label\"\n          \u003e\n               1\n          \u003c/a\u003e\n    \u003c/sup\u003e\n\u003c/p\u003e\n```\n\nAnd here’s the `footnotes` section generated at the end of the blog:\n\n```html\n\u003csection data-footnotes class=\"footnotes\"\u003e\n    \u003ch2 class=\"sr-only\" id=\"footnote-label\"\u003eFootnotes\u003c/h2\u003e\n    \u003col\u003e\n        \u003cli id=\"user-content-fn-1\"\u003e\n            \u003cp\u003eBig note.\n                \u003ca\n                    href=\"#user-content-fnref-1\"\n                    data-footnote-backref\n                    class=\"data-footnote-backref\"\n                    aria-label=\"Back to content\"\n                \u003e\n                    ↩\n                \u003c/a\u003e\n            \u003c/p\u003e\n        \u003c/li\u003e\n    \u003c/ol\u003e\n\u003c/section\u003e\n```\n\n### The Problem\nThe issue was with the footnote links. URLs can have only one anchor text. So clicking on these links would replace the entire hash route in the URL with the `href` of the clicked element (e.g., `#user-content-fn-1`). This caused the same error as the giscus authentication url i.e., 'no routes matched'.\n\n### The Solution\nI solved it by using using side effects again. I am gonna just explain it in short and not overwhelm you with the code.\n\n1. __Selecting Footnote Anchors:__ I used the [Web API’s `querySelector`](https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelector) to select all relevant anchor elements.\n2. __Disabling Anchor String Replacement:__ I removed the href attributes from the footnote links to prevent the hash route from being altered.\n3. __Custom Scrolling Logic:__ I registered event listeners on these anchors and used the [react-scroll](https://www.npmjs.com/package/react-scroll) library to programmatically scroll to the target IDs when clicked.\n4. __Cleanup:__ Of course, I made sure to clean up the event listeners to avoid memory leaks.\n\nActually never mind. Here's the code for just in case you are curious lol.\n\n```ts\nconst useFootnotes = (loading: boolean, blogId: string | undefined) =\u003e {\n    useEffect(() =\u003e {\n        const footnote = document.querySelector('section.footnotes');\n        const as_ = footnote?.querySelectorAll('span.data-footnote-backref \u003e a');\n        const refs = document.querySelectorAll('[data-footnote-ref] \u003e a');\n\n        const cb = (id: string) =\u003e {\n            return () =\u003e scroller.scrollTo('user-content-' + id.replace('#', ''), {\n                duration: 1000,\n                smooth: true,\n            });\n        };\n\n        if (!loading \u0026\u0026 as_ \u0026\u0026 refs) {\n            as_.forEach((backLink) =\u003e {\n                const backId = backLink.getAttribute('href');\n                if (backId) {\n                    backLink.removeAttribute('href');\n                    backLink.addEventListener('click', cb(backId));\n                }\n            });\n\n            refs.forEach((refLink) =\u003e {\n                const refId = refLink.getAttribute('href');\n                if (refId) {\n                    refLink.removeAttribute('href');\n                    refLink.addEventListener('click', cb(refId));\n                }\n            });\n        }\n\n        return () =\u003e {\n            if (as_ \u0026\u0026 refs) {\n                as_.forEach((backLink) =\u003e {\n                    const backId = backLink.getAttribute('href');\n                    if (backId) {\n                        backLink.removeEventListener('click', cb(backId));\n                    }\n                });\n\n                refs.forEach((refLink) =\u003e {\n                    const refId = refLink.getAttribute('href');\n                    if (refId) {\n                        refLink.removeEventListener('click', cb(refId));\n                    }\n                });\n            }\n        };\n    }, [loading, blogId]);\n}\n```\n\n## Conclusion\n\n*Sigh*\n\nFinally, all routing bugs are fixed. Well, atleast to far as my knowledge goes.\n\nOverall, debugging these routing issues was a fun and rewarding experience, and I learned a lot along the way. It’s always interesting to dive deep into problems like this, as they challenge you to think creatively and explore new solutions. Hopefully, my experience has given you some useful insights and perhaps even saved you from a few headaches down the road!\n\nThis was pretty long blog- longer than anticipated to say the least. Thanks for following along, and I hope you picked up something new. If you have any thoughts or solutions, feel free to share. Until next time, happy coding!"])</script><script>self.__next_f.push([1,"f:{\"id\":\"3QgdcvaiDnPbgONGgGQupN\",\"createdAt\":\"October 20th, 2024 7:39 PM\",\"title\":\"This is what happens when you use react-router with Github Pages\",\"thumbnail\":\"https://images.ctfassets.net/ud4ywsjg17po/7w3yMYYkgPRlqXiumkqwiI/a1377849f259c3d95d33b0eee428c2c5/image.png\",\"thumbnailCourtesy\":\"https://unsplash.com/photos/a-book-and-a-small-figurine-on-a-desk-KPAQpJYzH0Y\",\"thumbnailCourtesyText\":\"Praveen Thirumurugan\",\"data\":\"$10\",\"keywords\":\"gh-pages, react-router, hash routing, giscus, debugging\"}\n4:[[\"$\",\"$Lc\",null,{\"item\":{\"id\":\"3QgdcvaiDnPbgONGgGQupN\",\"createdAt\":\"October 20th, 2024 7:39 PM\",\"title\":\"This is what happens when you use react-router with Github Pages\",\"thumbnail\":\"https://images.ctfassets.net/ud4ywsjg17po/7w3yMYYkgPRlqXiumkqwiI/a1377849f259c3d95d33b0eee428c2c5/image.png\",\"thumbnailCourtesy\":\"https://unsplash.com/photos/a-book-and-a-small-figurine-on-a-desk-KPAQpJYzH0Y\",\"thumbnailCourtesyText\":\"Praveen Thirumurugan\",\"data\":\"$d\",\"keywords\":\"gh-pages, react-router, hash routing, giscus, debugging\"}}],[\"$\",\"$Le\",null,{\"item\":\"$f\"}]]\n"])</script></body></html>